System.register(["jimu-core","jimu-arcgis"], function(__WEBPACK_DYNAMIC_EXPORT__, __system_context__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_core__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__ = {};
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__, "__esModule", { value: true });
	return {
		setters: [
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__[key] = module[key];
				});
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./finn/widgets/parking-lot-widget/src/runtime/style.css":
/*!***************************************************************!*\
  !*** ./finn/widgets/parking-lot-widget/src/runtime/style.css ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_node_modules_resolve_url_loader_index_js_ruleSet_1_rules_3_use_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_3_use_3_style_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/resolve-url-loader/index.js??ruleSet[1].rules[3].use[2]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[3]!./style.css */ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!./node_modules/resolve-url-loader/index.js??ruleSet[1].rules[3].use[2]!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[3]!./finn/widgets/parking-lot-widget/src/runtime/style.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_node_modules_resolve_url_loader_index_js_ruleSet_1_rules_3_use_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_3_use_3_style_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_node_modules_resolve_url_loader_index_js_ruleSet_1_rules_3_use_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_3_use_3_style_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_node_modules_resolve_url_loader_index_js_ruleSet_1_rules_3_use_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_3_use_3_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_node_modules_resolve_url_loader_index_js_ruleSet_1_rules_3_use_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_3_use_3_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./finn/widgets/parking-lot-widget/src/runtime/translations/default.ts":
/*!*****************************************************************************!*\
  !*** ./finn/widgets/parking-lot-widget/src/runtime/translations/default.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    _widgetLabel: 'Parking Lot Widget',
    parkingLotStatus: 'Parking Lot Status',
    noDataSource: 'No data source configured',
    loadingData: 'Loading parking lot data...',
    errorLoadingData: 'Error loading data source',
    noDataAvailable: 'No parking lot data available',
    configureDataSource: 'Please configure a data source in the widget settings'
});


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!./node_modules/resolve-url-loader/index.js??ruleSet[1].rules[3].use[2]!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[3]!./finn/widgets/parking-lot-widget/src/runtime/style.css":
/*!***************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!./node_modules/resolve-url-loader/index.js??ruleSet[1].rules[3].use[2]!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[3]!./finn/widgets/parking-lot-widget/src/runtime/style.css ***!
  \***************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.parking-lot-widget {
  padding: 16px;
  font-family: "Avenir Next", "Helvetica Neue", Arial, sans-serif;
}

.widget-header {
  margin-bottom: 16px;
}

.widget-header h3 {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: #323232;
}

.widget-content {
  min-height: 100px;
}

.parking-lot-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.parking-lot-item {
  background: white;
  border-radius: 8px;
  padding: 10px 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  border: 1px solid #e0e0e0;
}

.parking-lot-content {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 2px;
}

.utilization-dot {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  flex-shrink: 0;
  border: 2px solid white;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.parking-lot-name {
  font-size: 16px;
  font-weight: 700;
  color: #323232;
  line-height: 1.3;
  display: flex;
  align-items: center;
}

.utilization-text {
  font-size: 14px;
  color: #666666;
  font-weight: 400;
  margin-left: 32px; /* Align with text after the dot */
}

.no-data {
  text-align: center;
  color: #999999;
  font-style: italic;
  padding: 20px;
  background: #f8f8f8;
  border-radius: 8px;
  border: 1px dashed #cccccc;
}

.loading {
  text-align: center;
  color: #666666;
  padding: 20px;
  background: #f8f8f8;
  border-radius: 8px;
  border: 1px solid #e0e0e0;
}

/* Responsive design */
@media (max-width: 480px) {
  .parking-lot-widget {
    padding: 12px;
  }
  .parking-lot-item {
    padding: 10px;
  }
  .parking-lot-name {
    font-size: 14px;
  }
  .utilization-text {
    font-size: 12px;
  }
}
/* Hover effects */
.parking-lot-item:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  transform: translateY(-1px);
  transition: all 0.2s ease;
}

/* Loading state */
.parking-lot-widget.loading {
  opacity: 0.6;
  pointer-events: none;
}

.parking-lot-widget.loading::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 20px;
  height: 20px;
  margin: -10px 0 0 -10px;
  border: 2px solid #f3f3f3;
  border-top: 2px solid #3498db;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}`, "",{"version":3,"sources":["webpack://./finn/widgets/parking-lot-widget/src/runtime/style.css"],"names":[],"mappings":"AAAA;EACE,aAAA;EACA,+DAAA;AACF;;AAEA;EACE,mBAAA;AACF;;AAEA;EACE,SAAA;EACA,eAAA;EACA,gBAAA;EACA,cAAA;AACF;;AAEA;EACE,iBAAA;AACF;;AAEA;EACE,aAAA;EACA,sBAAA;EACA,SAAA;AACF;;AAEA;EACE,iBAAA;EACA,kBAAA;EACA,kBAAA;EACA,wCAAA;EACA,yBAAA;AACF;;AAEA;EACE,aAAA;EACA,mBAAA;EACA,SAAA;EACA,kBAAA;AACF;;AAEA;EACE,WAAA;EACA,YAAA;EACA,kBAAA;EACA,cAAA;EACA,uBAAA;EACA,wCAAA;AACF;;AAEA;EACE,eAAA;EACA,gBAAA;EACA,cAAA;EACA,gBAAA;EACA,aAAA;EACA,mBAAA;AACF;;AAEA;EACE,eAAA;EACA,cAAA;EACA,gBAAA;EACA,iBAAA,EAAA,kCAAA;AACF;;AAEA;EACE,kBAAA;EACA,cAAA;EACA,kBAAA;EACA,aAAA;EACA,mBAAA;EACA,kBAAA;EACA,0BAAA;AACF;;AAEA;EACE,kBAAA;EACA,cAAA;EACA,aAAA;EACA,mBAAA;EACA,kBAAA;EACA,yBAAA;AACF;;AAEA,sBAAA;AACA;EACE;IACE,aAAA;EACF;EAEA;IACE,aAAA;EAAF;EAGA;IACE,eAAA;EADF;EAIA;IACE,eAAA;EAFF;AACF;AAKA,kBAAA;AACA;EACE,0CAAA;EACA,2BAAA;EACA,yBAAA;AAHF;;AAMA,kBAAA;AACA;EACE,YAAA;EACA,oBAAA;AAHF;;AAMA;EACE,WAAA;EACA,kBAAA;EACA,QAAA;EACA,SAAA;EACA,WAAA;EACA,YAAA;EACA,uBAAA;EACA,yBAAA;EACA,6BAAA;EACA,kBAAA;EACA,kCAAA;AAHF;;AAMA;EACE;IAAK,uBAAA;EAFL;EAGA;IAAO,yBAAA;EAAP;AACF","sourcesContent":[".parking-lot-widget {\n  padding: 16px;\n  font-family: 'Avenir Next', 'Helvetica Neue', Arial, sans-serif;\n}\n\n.widget-header {\n  margin-bottom: 16px;\n}\n\n.widget-header h3 {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: #323232;\n}\n\n.widget-content {\n  min-height: 100px;\n}\n\n.parking-lot-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.parking-lot-item {\n  background: white;\n  border-radius: 8px;\n  padding: 10px 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  border: 1px solid #e0e0e0;\n}\n\n.parking-lot-content {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 2px;\n}\n\n.utilization-dot {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  flex-shrink: 0;\n  border: 2px solid white;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n}\n\n.parking-lot-name {\n  font-size: 16px;\n  font-weight: 700;\n  color: #323232;\n  line-height: 1.3;\n  display: flex;\n  align-items: center;\n}\n\n.utilization-text {\n  font-size: 14px;\n  color: #666666;\n  font-weight: 400;\n  margin-left: 32px; /* Align with text after the dot */\n}\n\n.no-data {\n  text-align: center;\n  color: #999999;\n  font-style: italic;\n  padding: 20px;\n  background: #f8f8f8;\n  border-radius: 8px;\n  border: 1px dashed #cccccc;\n}\n\n.loading {\n  text-align: center;\n  color: #666666;\n  padding: 20px;\n  background: #f8f8f8;\n  border-radius: 8px;\n  border: 1px solid #e0e0e0;\n}\n\n/* Responsive design */\n@media (max-width: 480px) {\n  .parking-lot-widget {\n    padding: 12px;\n  }\n  \n  .parking-lot-item {\n    padding: 10px;\n  }\n  \n  .parking-lot-name {\n    font-size: 14px;\n  }\n  \n  .utilization-text {\n    font-size: 12px;\n  }\n}\n\n/* Hover effects */\n.parking-lot-item:hover {\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  transform: translateY(-1px);\n  transition: all 0.2s ease;\n}\n\n/* Loading state */\n.parking-lot-widget.loading {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.parking-lot-widget.loading::after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 20px;\n  height: 20px;\n  margin: -10px 0 0 -10px;\n  border: 2px solid #f3f3f3;\n  border-top: 2px solid #3498db;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";


var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";


var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ "jimu-arcgis":
/*!******************************!*\
  !*** external "jimu-arcgis" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__;

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be isolated against other entry modules.
(() => {
/*!******************************************!*\
  !*** ./jimu-core/lib/set-public-path.ts ***!
  \******************************************/
/**
 * Webpack will replace __webpack_public_path__ with __webpack_require__.p to set the public path dynamically.
 * The reason why we can't set the publicPath in webpack config is: we change the publicPath when download.
 * */
__webpack_require__.p = window.jimuConfig.baseUrl;

})();

// This entry needs to be wrapped in an IIFE because it needs to be in strict mode.
(() => {
"use strict";
/*!****************************************************************!*\
  !*** ./finn/widgets/parking-lot-widget/src/runtime/widget.tsx ***!
  \****************************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __set_webpack_public_path__: () => (/* binding */ __set_webpack_public_path__),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./style.css */ "./finn/widgets/parking-lot-widget/src/runtime/style.css");
/* harmony import */ var _translations_default__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./translations/default */ "./finn/widgets/parking-lot-widget/src/runtime/translations/default.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */




const debugLog = (..._args) => { };
const SVG_NS = 'http://www.w3.org/2000/svg';
const GAUGE_SIZE = 44;
const GAUGE_VIEWBOX_SIZE = 100;
const GAUGE_CENTER = GAUGE_VIEWBOX_SIZE / 2;
const GAUGE_RADIUS = GAUGE_VIEWBOX_SIZE / 2 - 4;
const polarToCartesian = (centerX, centerY, radius, angleInDegrees) => {
    const angleInRadians = (Math.PI / 180) * angleInDegrees;
    return {
        x: centerX + radius * Math.cos(angleInRadians),
        y: centerY + radius * Math.sin(angleInRadians)
    };
};
const describeArc = (centerX, centerY, radius, startAngle, sweepAngle) => {
    const endAngle = startAngle + sweepAngle;
    const start = polarToCartesian(centerX, centerY, radius, startAngle);
    const end = polarToCartesian(centerX, centerY, radius, endAngle);
    const absSweepAngle = Math.abs(sweepAngle);
    const largeArcFlag = absSweepAngle > 180 ? '1' : '0';
    const sweepFlag = sweepAngle < 0 ? '0' : '1'; // 0 = counterclockwise, 1 = clockwise
    return [
        'M', start.x.toFixed(2), start.y.toFixed(2),
        'A', radius.toFixed(2), radius.toFixed(2), '0', largeArcFlag, sweepFlag, end.x.toFixed(2), end.y.toFixed(2)
    ].join(' ');
};
const describeSector = (centerX, centerY, radius, startAngle, sweepAngle) => {
    const start = polarToCartesian(centerX, centerY, radius, startAngle);
    const end = polarToCartesian(centerX, centerY, radius, startAngle + sweepAngle);
    const absSweepAngle = Math.abs(sweepAngle);
    const largeArcFlag = absSweepAngle > 180 ? '1' : '0';
    const sweepFlag = sweepAngle < 0 ? '0' : '1'; // 0 = counterclockwise, 1 = clockwise
    return [
        'M', centerX.toFixed(2), centerY.toFixed(2),
        'L', start.x.toFixed(2), start.y.toFixed(2),
        'A', radius.toFixed(2), radius.toFixed(2), '0', largeArcFlag, sweepFlag, end.x.toFixed(2), end.y.toFixed(2),
        'Z'
    ].join(' ');
};
const Widget = (props) => {
    const { config, id, useDataSources, useMapWidgetIds } = props;
    const [jimuMapView, setJimuMapView] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(null);
    const [parkingLotLabels, setParkingLotLabels] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState([]);
    const [mapContainer, setMapContainer] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(null);
    const [currentDataSourceId, setCurrentDataSourceId] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(null);
    const [shouldUpdateLabels, setShouldUpdateLabels] = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useState(false);
    const dataSourceRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useRef(null);
    const labelsRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useRef([]);
    const positionFrameRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useRef(null);
    const labelsCreatedForDataSourceRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useRef(null); // Track which DS we've created labels for
    const isCreatingLabelsRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useRef(false); // Prevent concurrent creation
    const isRefreshInFlightRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useRef(false); // Prevent overlapping refreshes
    const lastHandledSourceVersionRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useRef(null);
    const MAX_RENDERABLE_RECORDS = 1000;
    const dataSourceQuery = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useMemo(() => {
        const parkingField = config.parkingLotField || 'parking_lot';
        const utilizationField = config.utilizationField || 'utilization_percentage';
        return {
            where: '1=1',
            outFields: [parkingField, utilizationField],
            returnGeometry: true,
            page: 1,
            pageSize: 100
        };
    }, [config.parkingLotField, config.utilizationField]);
    const resolveMapContainer = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useCallback((jmv) => {
        var _a;
        const widgetId = useMapWidgetIds === null || useMapWidgetIds === void 0 ? void 0 : useMapWidgetIds[0];
        const directViewContainer = (_a = jmv === null || jmv === void 0 ? void 0 : jmv.view) === null || _a === void 0 ? void 0 : _a.container;
        const directViewParent = directViewContainer === null || directViewContainer === void 0 ? void 0 : directViewContainer.parentElement;
        const byWidgetMapRoot = widgetId ? document.querySelector(`[data-widget-id="${widgetId}"] .map-root`) : null;
        const byWidgetViewRoot = widgetId ? document.querySelector(`[data-widget-id="${widgetId}"] .esri-view-root`) : null;
        const byWidgetView = widgetId ? document.querySelector(`[data-widget-id="${widgetId}"] .esri-view`) : null;
        const byWidgetRoot = widgetId ? document.querySelector(`[data-widget-id="${widgetId}"]`) : null;
        const candidate = (directViewContainer ||
            directViewParent ||
            byWidgetViewRoot ||
            byWidgetView ||
            byWidgetMapRoot ||
            byWidgetRoot);
        return candidate || null;
    }, [useMapWidgetIds]);
    const clearLabelsFromContainer = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useCallback((container) => {
        if (!container)
            return;
        const labels = container.querySelectorAll('.parking-lot-map-label');
        labels.forEach(el => {
            if (el.parentNode) {
                el.parentNode.removeChild(el);
            }
        });
    }, []);
    const getFeatureFromRecord = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useCallback((record) => {
        var _a, _b, _c;
        if (!record)
            return null;
        if ((_a = record === null || record === void 0 ? void 0 : record.feature) === null || _a === void 0 ? void 0 : _a.geometry) {
            return record.feature;
        }
        if (((_b = record === null || record === void 0 ? void 0 : record.feature) === null || _b === void 0 ? void 0 : _b.attributes) && typeof (record === null || record === void 0 ? void 0 : record.getJSAPIGeometry) === 'function') {
            const geometry = record.getJSAPIGeometry();
            if (geometry) {
                return {
                    geometry,
                    attributes: record.feature.attributes
                };
            }
        }
        if (typeof (record === null || record === void 0 ? void 0 : record.getJSAPIGeometry) === 'function') {
            const geometry = record.getJSAPIGeometry();
            const attributes = ((_c = record.getData) === null || _c === void 0 ? void 0 : _c.call(record)) || {};
            if (geometry) {
                return {
                    geometry,
                    attributes
                };
            }
        }
        if ((record === null || record === void 0 ? void 0 : record.attributes) && (record === null || record === void 0 ? void 0 : record.geometry)) {
            return record;
        }
        return null;
    }, []);
    const getDataFromRecord = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useCallback((record) => {
        var _a;
        if (!record)
            return null;
        if (typeof (record === null || record === void 0 ? void 0 : record.getData) === 'function') {
            return (record.getData() || null);
        }
        if ((_a = record === null || record === void 0 ? void 0 : record.feature) === null || _a === void 0 ? void 0 : _a.attributes) {
            return record.feature.attributes;
        }
        if (record === null || record === void 0 ? void 0 : record.attributes) {
            return record.attributes;
        }
        return null;
    }, []);
    // Handle map view activation
    const onActiveViewChange = (jmv) => {
        if (jmv) {
            setJimuMapView(jmv);
            const resolved = resolveMapContainer(jmv);
            if (resolved) {
                debugLog('Resolved map container on active view change', { tagName: resolved.tagName, className: resolved.className });
                setMapContainer(resolved);
            }
            else {
                debugLog('Could not resolve map container on active view change');
            }
        }
    };
    // Recovery path: if container is not available during onActiveViewChange,
    // bind it once the view container becomes available.
    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useEffect(() => {
        if (mapContainer || !(jimuMapView === null || jimuMapView === void 0 ? void 0 : jimuMapView.view)) {
            return;
        }
        const resolved = resolveMapContainer(jimuMapView);
        if (resolved) {
            debugLog('Resolved map container in recovery effect', { tagName: resolved.tagName, className: resolved.className });
            setMapContainer(resolved);
        }
        else {
            debugLog('Recovery effect still cannot resolve map container');
        }
    }, [jimuMapView, mapContainer, resolveMapContainer]);
    // Ensure absolute-positioned labels can render in the selected host
    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useEffect(() => {
        if (!mapContainer)
            return;
        const computedPosition = window.getComputedStyle(mapContainer).position;
        if (computedPosition === 'static') {
            mapContainer.style.position = 'relative';
        }
    }, [mapContainer]);
    // Update label positions when map view changes
    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useEffect(() => {
        if (jimuMapView && parkingLotLabels.length > 0) {
            const updateLabelPositions = () => {
                const zoom = jimuMapView.view.zoom;
                // Calculate scale factor based on zoom level
                const scale = Math.max(0.3, Math.min(1.0, (zoom - 10) / 8));
                parkingLotLabels.forEach(label => {
                    try {
                        const screenPoint = jimuMapView.view.toScreen(label.geometry);
                        if (label.element) {
                            // Apply scaling with tail position as origin (20px from left)
                            label.element.style.transform = `scale(${scale})`;
                            label.element.style.transformOrigin = '20px bottom';
                            // Get the element height to position it above the point
                            const elementHeight = label.element.offsetHeight || 60;
                            // Fixed offset - tail should point to the exact coordinate
                            label.element.style.left = `${screenPoint.x - 20}px`;
                            label.element.style.top = `${screenPoint.y - elementHeight - 8}px`;
                        }
                    }
                    catch (error) {
                        // Silently handle position update errors
                    }
                });
            };
            // Throttle updates to animation frames to avoid excessive reposition work during map interaction.
            const schedulePositionUpdate = () => {
                if (positionFrameRef.current !== null)
                    return;
                positionFrameRef.current = window.requestAnimationFrame(() => {
                    positionFrameRef.current = null;
                    updateLabelPositions();
                });
            };
            // Update positions on view changes
            const handles = [
                jimuMapView.view.watch('extent', schedulePositionUpdate),
                jimuMapView.view.watch('center', schedulePositionUpdate),
                jimuMapView.view.watch('zoom', schedulePositionUpdate)
            ];
            // Initial position update
            schedulePositionUpdate();
            return () => {
                if (positionFrameRef.current !== null) {
                    window.cancelAnimationFrame(positionFrameRef.current);
                    positionFrameRef.current = null;
                }
                handles.forEach(handle => {
                    if (handle && typeof handle.remove === 'function') {
                        handle.remove();
                    }
                });
            };
        }
    }, [jimuMapView, parkingLotLabels]);
    // Clean up labels when widget unmounts
    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useEffect(() => {
        return () => {
            parkingLotLabels.forEach(label => {
                if (label.element && label.element.parentNode) {
                    label.element.parentNode.removeChild(label.element);
                }
            });
        };
    }, [parkingLotLabels]);
    // Reset labels when data source or config changes
    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useEffect(() => {
        // Always clear and reset when config changes
        const cleanup = () => {
            // Remove all labels from DOM
            clearLabelsFromContainer(mapContainer);
            // Clear state
            setParkingLotLabels([]);
            setCurrentDataSourceId(null);
            setShouldUpdateLabels(true);
            labelsCreatedForDataSourceRef.current = null;
            isCreatingLabelsRef.current = false;
            isRefreshInFlightRef.current = false;
            lastHandledSourceVersionRef.current = null;
        };
        cleanup();
    }, [clearLabelsFromContainer, mapContainer, config.parkingLotField, config.utilizationField, config.showUtilizationText, config.allowNegatives, config.fullThreshold, config.availableColor, config.unavailableColor]);
    // Watch for data source ID changes (includes view changes)
    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useEffect(() => {
        if (!useDataSources || useDataSources.length === 0) {
            setCurrentDataSourceId(null);
            setShouldUpdateLabels(false);
            lastHandledSourceVersionRef.current = null;
            return;
        }
        const newDataSourceId = useDataSources[0].dataSourceId;
        debugLog('DataSource ID check:', {
            newId: newDataSourceId,
            currentId: currentDataSourceId,
            changed: currentDataSourceId !== null && newDataSourceId !== currentDataSourceId
        });
        // If data source ID changed, clear labels and reset tracking
        if (currentDataSourceId !== null && newDataSourceId !== currentDataSourceId) {
            debugLog('DataSource ID changed, clearing labels and resetting tracking');
            dataSourceRef.current = null;
            clearLabelsFromContainer(mapContainer);
            setParkingLotLabels([]);
            labelsCreatedForDataSourceRef.current = null; // Reset tracking
            isCreatingLabelsRef.current = false; // Reset creating flag
            isRefreshInFlightRef.current = false;
            lastHandledSourceVersionRef.current = null;
            setShouldUpdateLabels(true);
        }
        // Always set the current ID (even on initial load)
        if (currentDataSourceId !== newDataSourceId) {
            debugLog('Setting currentDataSourceId to:', newDataSourceId);
            setCurrentDataSourceId(newDataSourceId);
        }
    }, [useDataSources, currentDataSourceId, clearLabelsFromContainer, mapContainer]);
    const requestSafeLabelRefresh = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useCallback((options) => {
        const reason = (options === null || options === void 0 ? void 0 : options.reason) || 'unspecified';
        setShouldUpdateLabels(true);
        debugLog('Refresh request accepted', { reason });
        return true;
    }, []);
    const updateExistingLabelsFromRecordsWithoutGeometry = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useCallback((records) => {
        var _a;
        if (!mapContainer)
            return;
        const existingLabels = mapContainer.querySelectorAll('.parking-lot-map-label');
        if (existingLabels.length === 0)
            return;
        const existingLabelsMap = new Map();
        existingLabels.forEach((el) => {
            const lotId = el.getAttribute('data-parking-lot-id');
            if (lotId) {
                existingLabelsMap.set(lotId, el);
            }
        });
        for (const record of records) {
            const data = getDataFromRecord(record);
            if (!data)
                continue;
            const parkingLotName = data === null || data === void 0 ? void 0 : data[config.parkingLotField];
            const utilizationPercentage = data === null || data === void 0 ? void 0 : data[config.utilizationField];
            if (!parkingLotName)
                continue;
            const lotId = String(parkingLotName);
            const labelElement = existingLabelsMap.get(lotId);
            if (!labelElement)
                continue;
            const utilizationRaw = Number(utilizationPercentage);
            const utilizationValue = Number.isFinite(utilizationRaw) ? utilizationRaw : 0;
            const availableColor = config.availableColor || '#E683DD';
            const unavailableColor = config.unavailableColor || '#8B8B8B';
            const threshold = Math.max(0, Math.min(100, (_a = config.fullThreshold) !== null && _a !== void 0 ? _a : 95));
            let freePercentage = 100 - utilizationValue;
            if (!config.allowNegatives && freePercentage < 0) {
                freePercentage = 0;
            }
            const availabilityAnnouncement = utilizationValue >= threshold || freePercentage <= Math.max(0, 100 - threshold)
                ? 'Full'
                : `${Math.round(Math.max(0, Math.min(100, freePercentage)))}% Available`;
            const utilizationText = config.showUtilizationText ? availabilityAnnouncement : '';
            let availability = 100 - utilizationValue;
            if (!config.allowNegatives && availability < 0) {
                availability = 0;
            }
            const availabilityPercentage = Math.max(0, Math.min(100, availability));
            labelElement.setAttribute('aria-label', `${parkingLotName}: ${availabilityAnnouncement}`);
            const children = Array.from(labelElement.children);
            const existingGaugeWrapper = children[0];
            const existingTextContainer = children[1];
            if (existingGaugeWrapper) {
                const existingSvg = existingGaugeWrapper.querySelector('svg');
                if (existingSvg) {
                    const clampedAvailability = Math.max(0, Math.min(100, availabilityPercentage));
                    const fillPercentage = clampedAvailability;
                    const sweepAngle = -Math.min((fillPercentage / 100) * 360, 359.999);
                    const svgChildren = Array.from(existingSvg.children);
                    const baseFill = svgChildren[0];
                    if (baseFill && baseFill.tagName === 'circle') {
                        baseFill.setAttribute('fill', unavailableColor);
                    }
                    for (let i = svgChildren.length - 2; i >= 1; i--) {
                        existingSvg.removeChild(svgChildren[i]);
                    }
                    if (fillPercentage > 0) {
                        if (fillPercentage >= 99.5) {
                            const fullCircle = document.createElementNS(SVG_NS, 'circle');
                            fullCircle.setAttribute('cx', GAUGE_CENTER.toFixed(2));
                            fullCircle.setAttribute('cy', GAUGE_CENTER.toFixed(2));
                            fullCircle.setAttribute('r', (GAUGE_RADIUS - 3).toFixed(2));
                            fullCircle.setAttribute('fill', availableColor);
                            fullCircle.setAttribute('stroke', 'none');
                            existingSvg.insertBefore(fullCircle, existingSvg.lastChild);
                        }
                        else {
                            const sectorPath = document.createElementNS(SVG_NS, 'path');
                            sectorPath.setAttribute('d', describeSector(GAUGE_CENTER, GAUGE_CENTER, GAUGE_RADIUS - 3, -90, sweepAngle));
                            sectorPath.setAttribute('fill', availableColor);
                            sectorPath.setAttribute('stroke', 'none');
                            existingSvg.insertBefore(sectorPath, existingSvg.lastChild);
                            const sectorOutline = document.createElementNS(SVG_NS, 'path');
                            sectorOutline.setAttribute('d', describeArc(GAUGE_CENTER, GAUGE_CENTER, GAUGE_RADIUS - 3, -90, sweepAngle));
                            sectorOutline.setAttribute('fill', 'none');
                            sectorOutline.setAttribute('stroke', availableColor);
                            sectorOutline.setAttribute('stroke-width', '3.5');
                            existingSvg.insertBefore(sectorOutline, existingSvg.lastChild);
                        }
                    }
                }
            }
            if (existingTextContainer) {
                const textChildren = Array.from(existingTextContainer.children);
                let utilElementIndex = config.showUtilizationText ? 0 : -1;
                let nameElementIndex = config.showUtilizationText ? 1 : 0;
                if (config.showUtilizationText && utilElementIndex >= 0 && textChildren[utilElementIndex]) {
                    const utilElement = textChildren[utilElementIndex];
                    if (utilElement.textContent !== utilizationText) {
                        utilElement.textContent = utilizationText;
                    }
                }
                if (textChildren[nameElementIndex]) {
                    const nameElement = textChildren[nameElementIndex];
                    if (nameElement.textContent !== parkingLotName) {
                        nameElement.textContent = parkingLotName;
                    }
                }
            }
        }
    }, [mapContainer, getDataFromRecord, config.parkingLotField, config.utilizationField, config.availableColor, config.unavailableColor, config.allowNegatives, config.showUtilizationText, config.fullThreshold]);
    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.useEffect(() => {
        var _a, _b, _c, _d;
        if (!shouldUpdateLabels) {
            debugLog('Refresh effect skipped: shouldUpdateLabels is false');
            return;
        }
        if (!((_a = jimuMapView === null || jimuMapView === void 0 ? void 0 : jimuMapView.view) === null || _a === void 0 ? void 0 : _a.ready)) {
            debugLog('Refresh effect skipped: map view not ready', { hasJimuMapView: !!jimuMapView, viewReady: (_b = jimuMapView === null || jimuMapView === void 0 ? void 0 : jimuMapView.view) === null || _b === void 0 ? void 0 : _b.ready });
            return;
        }
        if (!currentDataSourceId) {
            debugLog('Refresh effect skipped: missing currentDataSourceId');
            return;
        }
        if (!mapContainer) {
            debugLog('Refresh effect skipped: missing mapContainer');
            return;
        }
        const ds = dataSourceRef.current;
        const dsId = (_c = useDataSources === null || useDataSources === void 0 ? void 0 : useDataSources[0]) === null || _c === void 0 ? void 0 : _c.dataSourceId;
        if (!ds || !dsId || currentDataSourceId !== dsId) {
            debugLog('Refresh effect skipped: datasource mismatch/missing', {
                hasDs: !!ds,
                dsId,
                currentDataSourceId
            });
            // Reset the one-shot flag; ExB lifecycle callbacks will request refresh again when data is ready.
            setShouldUpdateLabels(false);
            return;
        }
        const dsStatus = (_d = ds.getStatus) === null || _d === void 0 ? void 0 : _d.call(ds);
        if (dsStatus !== 'LOADED') {
            debugLog('Datasource not loaded yet, waiting for ExB load lifecycle', { dsId, dsStatus });
            // Reset the one-shot flag; ExB lifecycle callbacks will request refresh again when data is ready.
            setShouldUpdateLabels(false);
            return;
        }
        if (isCreatingLabelsRef.current || isRefreshInFlightRef.current) {
            debugLog('Refresh effect skipped: creation/refresh already in flight', {
                isCreating: isCreatingLabelsRef.current,
                isRefreshing: isRefreshInFlightRef.current
            });
            return;
        }
        debugLog('All guards passed, proceeding to loadFeatures', { dsId });
        let cancelled = false;
        isCreatingLabelsRef.current = true;
        isRefreshInFlightRef.current = true;
        (() => __awaiter(void 0, void 0, void 0, function* () {
            var _a;
            try {
                const loadFeatures = () => __awaiter(void 0, void 0, void 0, function* () {
                    var _a, _b;
                    const records = ((_a = ds === null || ds === void 0 ? void 0 : ds.getRecords) === null || _a === void 0 ? void 0 : _a.call(ds)) || [];
                    const boundedRecords = records.slice(0, MAX_RENDERABLE_RECORDS);
                    const directFeatures = boundedRecords
                        .map((record) => getFeatureFromRecord(record))
                        .filter((f) => f);
                    const withGeometry = directFeatures.filter((f) => f === null || f === void 0 ? void 0 : f.geometry);
                    debugLog('Data flow: records from datasource', {
                        dsId,
                        recordsCount: records.length,
                        featuresExtracted: directFeatures.length,
                        withGeometry: withGeometry.length,
                        parkingLotField: config.parkingLotField,
                        utilizationField: config.utilizationField
                    });
                    if (records.length > 0) {
                        const first = records[0];
                        const data = typeof (first === null || first === void 0 ? void 0 : first.getData) === 'function' ? first.getData() : ((first === null || first === void 0 ? void 0 : first.attributes) || ((_b = first === null || first === void 0 ? void 0 : first.feature) === null || _b === void 0 ? void 0 : _b.attributes));
                        debugLog('First record sample', {
                            hasGetData: typeof (first === null || first === void 0 ? void 0 : first.getData) === 'function',
                            hasGetJSAPIGeometry: typeof (first === null || first === void 0 ? void 0 : first.getJSAPIGeometry) === 'function',
                            dataKeys: data ? Object.keys(data) : [],
                            [config.parkingLotField]: data === null || data === void 0 ? void 0 : data[config.parkingLotField],
                            [config.utilizationField]: data === null || data === void 0 ? void 0 : data[config.utilizationField]
                        });
                    }
                    return withGeometry;
                });
                const features = yield loadFeatures();
                debugLog('Resolved features for rendering', { dsId, featuresCount: features.length });
                if (cancelled) {
                    debugLog('Refresh effect cancelled before render', { dsId });
                    return;
                }
                if (features.length === 0) {
                    const boundedRecords = (((_a = ds === null || ds === void 0 ? void 0 : ds.getRecords) === null || _a === void 0 ? void 0 : _a.call(ds)) || []).slice(0, MAX_RENDERABLE_RECORDS);
                    const hasAnyRecords = boundedRecords.length > 0;
                    if (hasAnyRecords) {
                        // No geometry available in datasource records: do not query the server.
                        // Update existing labels' values only, keep positions unchanged.
                        updateExistingLabelsFromRecordsWithoutGeometry(boundedRecords);
                        debugLog('No geometry in datasource records, updated existing labels only', {
                            dsId,
                            recordCount: boundedRecords.length
                        });
                    }
                    else {
                        debugLog('No features available for label rendering', { dsId });
                    }
                    setShouldUpdateLabels(false);
                    return;
                }
                const labelsInDOM = mapContainer.querySelectorAll('.parking-lot-map-label').length;
                const hasNoLabels = labelsInDOM === 0;
                if (hasNoLabels) {
                    debugLog('Creating custom labels', { dsId, featuresCount: features.length });
                    yield createCustomLabels(features);
                    const createdLabels = mapContainer.querySelectorAll('.parking-lot-map-label').length;
                    debugLog('After createCustomLabels', { dsId, createdLabels });
                    if (createdLabels > 0) {
                        labelsCreatedForDataSourceRef.current = dsId;
                    }
                }
                else {
                    debugLog('Updating existing labels', { dsId, featuresCount: features.length });
                    yield updateExistingLabels(features);
                }
                setShouldUpdateLabels(false);
            }
            catch (error) {
                // Fail closed: reset update flag and allow future updates
                debugLog('Refresh effect failed', { error });
                setShouldUpdateLabels(false);
            }
            finally {
                isCreatingLabelsRef.current = false;
                isRefreshInFlightRef.current = false;
            }
        }))();
        return () => {
            cancelled = true;
        };
    }, [shouldUpdateLabels, jimuMapView, currentDataSourceId, useDataSources, mapContainer, config.parkingLotField, config.utilizationField, config.showUtilizationText, config.allowNegatives, config.fullThreshold, config.availableColor, config.unavailableColor, getFeatureFromRecord, updateExistingLabelsFromRecordsWithoutGeometry]);
    const getUtilizationText = (percentage) => {
        var _a;
        const threshold = Math.max(0, Math.min(100, (_a = config.fullThreshold) !== null && _a !== void 0 ? _a : 95));
        let freePercentage = 100 - percentage;
        // Handle negative values based on setting
        if (!config.allowNegatives && freePercentage < 0) {
            freePercentage = 0;
        }
        if (percentage >= threshold || freePercentage <= Math.max(0, 100 - threshold)) {
            return 'Full';
        }
        const clampedAvailability = Math.max(0, Math.min(100, freePercentage));
        return `${Math.round(clampedAvailability)}% Available`;
    };
    // Create legend element
    const createAvailabilityGauge = (availabilityPercentage, availableColor, unavailableColor) => {
        const clampedAvailability = Math.max(0, Math.min(100, availabilityPercentage));
        const fillPercentage = clampedAvailability; // Show availability counterclockwise
        const sweepAngle = -Math.min((fillPercentage / 100) * 360, 359.999); // Negative for counterclockwise
        const wrapper = document.createElement('div');
        wrapper.style.cssText = `
      width: ${GAUGE_SIZE}px;
      height: ${GAUGE_SIZE}px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      pointer-events: none;
    `;
        wrapper.setAttribute('aria-hidden', 'true');
        const svg = document.createElementNS(SVG_NS, 'svg');
        svg.setAttribute('width', `${GAUGE_SIZE}`);
        svg.setAttribute('height', `${GAUGE_SIZE}`);
        svg.setAttribute('viewBox', `0 0 ${GAUGE_VIEWBOX_SIZE} ${GAUGE_VIEWBOX_SIZE}`);
        svg.style.display = 'block';
        svg.style.flexShrink = '0';
        svg.style.pointerEvents = 'none';
        svg.setAttribute('role', 'presentation');
        svg.setAttribute('focusable', 'false');
        const baseFill = document.createElementNS(SVG_NS, 'circle');
        baseFill.setAttribute('cx', GAUGE_CENTER.toFixed(2));
        baseFill.setAttribute('cy', GAUGE_CENTER.toFixed(2));
        baseFill.setAttribute('r', GAUGE_RADIUS.toFixed(2));
        baseFill.setAttribute('fill', unavailableColor);
        baseFill.setAttribute('stroke', 'none');
        svg.appendChild(baseFill);
        if (fillPercentage > 0) {
            if (fillPercentage >= 99.5) {
                const fullCircle = document.createElementNS(SVG_NS, 'circle');
                fullCircle.setAttribute('cx', GAUGE_CENTER.toFixed(2));
                fullCircle.setAttribute('cy', GAUGE_CENTER.toFixed(2));
                fullCircle.setAttribute('r', (GAUGE_RADIUS - 3).toFixed(2));
                fullCircle.setAttribute('fill', availableColor);
                fullCircle.setAttribute('stroke', 'none');
                svg.appendChild(fullCircle);
            }
            else {
                const sectorPath = document.createElementNS(SVG_NS, 'path');
                sectorPath.setAttribute('d', describeSector(GAUGE_CENTER, GAUGE_CENTER, GAUGE_RADIUS - 3, -90, sweepAngle));
                sectorPath.setAttribute('fill', availableColor);
                sectorPath.setAttribute('stroke', 'none');
                svg.appendChild(sectorPath);
                const sectorOutline = document.createElementNS(SVG_NS, 'path');
                sectorOutline.setAttribute('d', describeArc(GAUGE_CENTER, GAUGE_CENTER, GAUGE_RADIUS - 3, -90, sweepAngle));
                sectorOutline.setAttribute('fill', 'none');
                sectorOutline.setAttribute('stroke', availableColor);
                sectorOutline.setAttribute('stroke-width', '3.5');
                svg.appendChild(sectorOutline);
            }
        }
        const baseOutline = document.createElementNS(SVG_NS, 'circle');
        baseOutline.setAttribute('cx', GAUGE_CENTER.toFixed(2));
        baseOutline.setAttribute('cy', GAUGE_CENTER.toFixed(2));
        baseOutline.setAttribute('r', (GAUGE_RADIUS - 1.5).toFixed(2));
        baseOutline.setAttribute('fill', 'none');
        baseOutline.setAttribute('stroke', '#333333');
        baseOutline.setAttribute('stroke-width', '3');
        svg.appendChild(baseOutline);
        wrapper.appendChild(svg);
        return wrapper;
    };
    // Create custom HTML labels
    const createCustomLabels = (records) => __awaiter(void 0, void 0, void 0, function* () {
        debugLog('createCustomLabels called', {
            hasMapContainer: !!mapContainer,
            hasJimuMapView: !!jimuMapView,
            recordCount: (records === null || records === void 0 ? void 0 : records.length) || 0
        });
        if (!mapContainer || !jimuMapView) {
            debugLog('Cannot create labels - missing mapContainer or jimuMapView', {
                mapContainer: !!mapContainer,
                jimuMapView: !!jimuMapView
            });
            return;
        }
        // Load required modules
        let projection = null;
        try {
            const modules = yield (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.loadArcGISJSAPIModules)(['esri/geometry/projection', 'esri/geometry/Point', 'esri/geometry/SpatialReference']);
            projection = modules[0];
            yield projection.load();
        }
        catch (error) {
            // Silently handle projection errors
        }
        // Track which parking lots we've processed
        const processedLotIds = new Set();
        const newLabels = [];
        const existingLabelsMap = new Map();
        // Build map of existing labels by parking lot ID.
        // IMPORTANT: Only look within the mapContainer to avoid finding labels from other instances.
        const existingLabels = mapContainer.querySelectorAll('.parking-lot-map-label');
        existingLabels.forEach((el) => {
            const lotId = el.getAttribute('data-parking-lot-id');
            if (lotId) {
                existingLabelsMap.set(lotId, el);
            }
        });
        let skippedCount = 0;
        const skippedReasons = {};
        for (const record of records) {
            // Handle both Graphics (from layer.queryFeatures) and DataRecords (from ds.getRecords)
            let data;
            let geometry = null;
            // Check if it's a DataRecord (has getData method)
            if (typeof record.getData === 'function') {
                // DataRecord - use getData() for attributes
                data = record.getData();
                // Try to get geometry - FeatureDataRecord has getJSAPIGeometry()
                try {
                    if (typeof record.getJSAPIGeometry === 'function') {
                        // FeatureDataRecord - returns ArcGIS JS API geometry directly
                        geometry = record.getJSAPIGeometry();
                    }
                    else if (typeof record.getGeometry === 'function') {
                        // Regular DataRecord - returns IGeometry
                        const iGeometry = record.getGeometry();
                        if (iGeometry) {
                            geometry = iGeometry;
                        }
                    }
                }
                catch (error) {
                    // Ignore malformed geometry on individual records.
                }
            }
            else if (record.attributes && record.geometry) {
                // Graphic - use attributes and geometry properties directly
                data = record.attributes;
                geometry = record.geometry;
            }
            else {
                // Unknown structure - try common direct-access patterns.
                data = record.data || record.attributes || record;
                geometry = record.geometry || record.geom || null;
            }
            const parkingLotName = data === null || data === void 0 ? void 0 : data[config.parkingLotField];
            const utilizationPercentage = data === null || data === void 0 ? void 0 : data[config.utilizationField];
            if (!geometry) {
                skippedCount++;
                skippedReasons.noGeometry = (skippedReasons.noGeometry || 0) + 1;
                continue;
            }
            if (!parkingLotName) {
                skippedCount++;
                skippedReasons.noName = (skippedReasons.noName || 0) + 1;
                continue;
            }
            const utilizationRaw = Number(utilizationPercentage);
            const utilizationValue = Number.isFinite(utilizationRaw) ? utilizationRaw : 0;
            const availableColor = config.availableColor || '#E683DD';
            const unavailableColor = config.unavailableColor || '#8B8B8B';
            const availabilityAnnouncement = getUtilizationText(utilizationValue);
            const utilizationText = config.showUtilizationText ? availabilityAnnouncement : '';
            let availability = 100 - utilizationValue;
            if (!config.allowNegatives && availability < 0) {
                availability = 0;
            }
            const availabilityPercentage = Math.max(0, Math.min(100, availability));
            const lotId = String(parkingLotName);
            processedLotIds.add(lotId);
            // Project geometry if needed
            try {
                const mapSR = jimuMapView.view.spatialReference;
                const geomSR = geometry.spatialReference;
                if (projection && geomSR && mapSR && geomSR.wkid !== mapSR.wkid) {
                    const projectedGeom = projection.project(geometry, mapSR);
                    if (projectedGeom) {
                        geometry = projectedGeom;
                    }
                }
            }
            catch (error) {
                // Silently handle projection errors
            }
            // Convert geometry to screen coordinates
            let screenPoint;
            try {
                screenPoint = jimuMapView.view.toScreen(geometry);
            }
            catch (error) {
                skippedCount++;
                skippedReasons.coordError = (skippedReasons.coordError || 0) + 1;
                debugLog('Error converting to screen coordinates', error, parkingLotName);
                continue; // Skip this label if we can't convert coordinates
            }
            // Check if label already exists
            let labelElement = existingLabelsMap.get(lotId);
            const isNewLabel = !labelElement;
            if (labelElement) {
                // Update existing label - update content in place without removing elements
                // Update position smoothly (only if changed)
                const newLeft = `${screenPoint.x - 50}px`;
                const newTop = `${screenPoint.y - 30}px`;
                if (labelElement.style.left !== newLeft) {
                    labelElement.style.left = newLeft;
                }
                if (labelElement.style.top !== newTop) {
                    labelElement.style.top = newTop;
                }
                // Update aria-label
                labelElement.setAttribute('aria-label', `${parkingLotName}: ${availabilityAnnouncement}`);
                // Find existing elements - structure: [gaugeWrapper, textContainer, tailBorder, tail]
                const children = Array.from(labelElement.children);
                const existingGaugeWrapper = children[0];
                const existingTextContainer = children[1];
                // Update gauge SVG in place - don't replace, just update the paths
                if (existingGaugeWrapper) {
                    const existingSvg = existingGaugeWrapper.querySelector('svg');
                    if (existingSvg) {
                        const clampedAvailability = Math.max(0, Math.min(100, availabilityPercentage));
                        const fillPercentage = clampedAvailability; // Show availability counterclockwise
                        const sweepAngle = -Math.min((fillPercentage / 100) * 360, 359.999); // Negative for counterclockwise
                        // Update base fill color (first child)
                        const svgChildren = Array.from(existingSvg.children);
                        const baseFill = svgChildren[0];
                        if (baseFill && baseFill.tagName === 'circle') {
                            baseFill.setAttribute('fill', unavailableColor);
                        }
                        // Remove all children except the base fill and outline
                        // Keep base fill (first child) and base outline (last child), remove sector paths
                        for (let i = svgChildren.length - 2; i >= 1; i--) {
                            existingSvg.removeChild(svgChildren[i]);
                        }
                        // Add new sector based on fill percentage
                        if (fillPercentage > 0) {
                            if (fillPercentage >= 99.5) {
                                // Full circle
                                const fullCircle = document.createElementNS(SVG_NS, 'circle');
                                fullCircle.setAttribute('cx', GAUGE_CENTER.toFixed(2));
                                fullCircle.setAttribute('cy', GAUGE_CENTER.toFixed(2));
                                fullCircle.setAttribute('r', (GAUGE_RADIUS - 3).toFixed(2));
                                fullCircle.setAttribute('fill', availableColor);
                                fullCircle.setAttribute('stroke', 'none');
                                // Insert before the base outline (last child)
                                existingSvg.insertBefore(fullCircle, existingSvg.lastChild);
                            }
                            else {
                                // Sector path
                                const sectorPath = document.createElementNS(SVG_NS, 'path');
                                sectorPath.setAttribute('d', describeSector(GAUGE_CENTER, GAUGE_CENTER, GAUGE_RADIUS - 3, -90, sweepAngle));
                                sectorPath.setAttribute('fill', availableColor);
                                sectorPath.setAttribute('stroke', 'none');
                                existingSvg.insertBefore(sectorPath, existingSvg.lastChild);
                                // Sector outline
                                const sectorOutline = document.createElementNS(SVG_NS, 'path');
                                sectorOutline.setAttribute('d', describeArc(GAUGE_CENTER, GAUGE_CENTER, GAUGE_RADIUS - 3, -90, sweepAngle));
                                sectorOutline.setAttribute('fill', 'none');
                                sectorOutline.setAttribute('stroke', availableColor);
                                sectorOutline.setAttribute('stroke-width', '3.5');
                                existingSvg.insertBefore(sectorOutline, existingSvg.lastChild);
                            }
                        }
                    }
                }
                // Update text container if it exists - just update text content
                if (existingTextContainer) {
                    const textChildren = Array.from(existingTextContainer.children);
                    let utilElementIndex = config.showUtilizationText ? 0 : -1;
                    let nameElementIndex = config.showUtilizationText ? 1 : 0;
                    // Update utilization text
                    if (config.showUtilizationText && utilElementIndex >= 0 && textChildren[utilElementIndex]) {
                        const utilElement = textChildren[utilElementIndex];
                        if (utilElement.textContent !== utilizationText) {
                            utilElement.textContent = utilizationText;
                        }
                    }
                    // Name shouldn't change, but verify
                    if (textChildren[nameElementIndex]) {
                        const nameElement = textChildren[nameElementIndex];
                        if (nameElement.textContent !== parkingLotName) {
                            nameElement.textContent = parkingLotName;
                        }
                    }
                }
                // Skip creating new elements - we've updated in place
                // Store label info for tracking
                newLabels.push({
                    element: labelElement,
                    geometry: geometry,
                    data: data
                });
                continue; // Skip the rest of the creation logic
            }
            else {
                // Create new label element
                labelElement = document.createElement('div');
                labelElement.className = 'parking-lot-map-label';
                labelElement.setAttribute('role', 'img');
                labelElement.setAttribute('aria-label', `${parkingLotName}: ${availabilityAnnouncement}`);
                labelElement.setAttribute('tabindex', '-1');
                labelElement.setAttribute('data-parking-lot-id', lotId);
            }
            // Set/update styles
            labelElement.style.cssText = `
        position: absolute;
        left: ${screenPoint.x - 50}px;
        top: ${screenPoint.y - 30}px;
        background: white;
        border-radius: 12px;
        padding: 8px 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        border: 1px solid #d0d0d0;
        font-family: 'Avenir Next', 'Helvetica Neue', Arial, sans-serif;
        z-index: 1000;
        pointer-events: none;
        display: flex;
        align-items: center;
        gap: 8px;
        min-width: 150px;
      `;
            // Add speech bubble tail (moved to left side)
            const tailElement = document.createElement('div');
            tailElement.style.cssText = `
        position: absolute;
        bottom: -8px;
        left: 20px;
        width: 0;
        height: 0;
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        border-top: 8px solid white;
        z-index: 1001;
      `;
            // Add tail border
            const tailBorderElement = document.createElement('div');
            tailBorderElement.style.cssText = `
        position: absolute;
        bottom: -9px;
        left: 20px;
        width: 0;
        height: 0;
        border-left: 9px solid transparent;
        border-right: 9px solid transparent;
        border-top: 9px solid #d0d0d0;
        z-index: 1000;
      `;
            // Create availability gauge
            const gaugeElement = createAvailabilityGauge(availabilityPercentage, availableColor, unavailableColor);
            // Create text container
            const textContainer = document.createElement('div');
            textContainer.style.cssText = `
        display: flex;
        flex-direction: column;
        gap: 1px;
      `;
            // Create utilization text (first, so it appears on top - extra bold, black, big)
            if (config.showUtilizationText) {
                const utilElement = document.createElement('div');
                utilElement.textContent = utilizationText;
                utilElement.style.cssText = `
          font-size: 16px;
          color: #000000;
          line-height: 1.2;
          font-weight: 900;
        `;
                textContainer.appendChild(utilElement);
            }
            // Create parking lot name (second, so it appears below - black, bold, slightly larger)
            const nameElement = document.createElement('div');
            nameElement.textContent = parkingLotName;
            nameElement.style.cssText = `
        font-size: 13px;
        font-weight: 700;
        color: #000000;
        line-height: 1.2;
      `;
            textContainer.appendChild(nameElement);
            labelElement.appendChild(gaugeElement);
            labelElement.appendChild(textContainer);
            // Add tail elements
            labelElement.appendChild(tailBorderElement);
            labelElement.appendChild(tailElement);
            // Verify content was added
            const childCount = labelElement.childNodes.length;
            debugLog('Label content added:', {
                parkingLotName,
                isNewLabel,
                childCount,
                hasGauge: !!gaugeElement,
                hasText: !!textContainer,
                utilizationText
            });
            // Add to map container if new
            if (isNewLabel) {
                try {
                    mapContainer.appendChild(labelElement);
                    debugLog('Label added to DOM:', parkingLotName);
                }
                catch (err) {
                    debugLog('Error adding label to DOM', err, parkingLotName);
                    continue;
                }
            }
            else {
                debugLog('Label updated in place:', parkingLotName, {
                    finalChildCount: labelElement.childNodes.length,
                    textContent: textContainer.textContent
                });
            }
            // Store label info
            newLabels.push({
                element: labelElement,
                geometry: geometry,
                data: data
            });
        }
        // Remove labels that no longer have corresponding records
        existingLabelsMap.forEach((labelEl, lotId) => {
            if (!processedLotIds.has(lotId)) {
                debugLog('Removing label for parking lot that no longer exists:', lotId);
                if (labelEl.parentNode) {
                    labelEl.parentNode.removeChild(labelEl);
                }
            }
        });
        const finalLabelCount = mapContainer.querySelectorAll('.parking-lot-map-label').length;
        debugLog('Finished updating labels:', {
            totalProcessed: newLabels.length,
            newLabels: newLabels.filter(l => !existingLabelsMap.has(l.element.getAttribute('data-parking-lot-id') || '')).length,
            updatedLabels: newLabels.filter(l => existingLabelsMap.has(l.element.getAttribute('data-parking-lot-id') || '')).length,
            skipped: skippedCount,
            skippedReasons,
            mapContainerExists: !!mapContainer,
            labelsInDOM: finalLabelCount,
            mapContainerType: mapContainer ? mapContainer.tagName : 'null',
            recordCount: records.length
        });
        labelsRef.current = newLabels;
        setParkingLotLabels(newLabels);
    });
    // Update existing labels in place without recreating them
    const updateExistingLabels = (records) => __awaiter(void 0, void 0, void 0, function* () {
        debugLog('updateExistingLabels called', {
            hasMapContainer: !!mapContainer,
            hasJimuMapView: !!jimuMapView,
            recordCount: (records === null || records === void 0 ? void 0 : records.length) || 0
        });
        if (!mapContainer || !jimuMapView) {
            debugLog('Cannot update labels - missing mapContainer or jimuMapView');
            return;
        }
        // Build map of existing labels by parking lot ID
        const existingLabels = mapContainer.querySelectorAll('.parking-lot-map-label');
        const existingLabelsMap = new Map();
        const processedLotIds = new Set();
        existingLabels.forEach((el) => {
            const lotId = el.getAttribute('data-parking-lot-id');
            if (lotId) {
                existingLabelsMap.set(lotId, el);
            }
        });
        debugLog('Updating existing labels:', {
            existingLabelsCount: existingLabelsMap.size,
            recordsCount: records.length
        });
        // Process each record and update corresponding label
        for (const record of records) {
            // Handle both Graphics and DataRecords
            let data;
            let geometry = null;
            if (typeof record.getData === 'function') {
                data = record.getData();
                try {
                    if (typeof record.getJSAPIGeometry === 'function') {
                        geometry = record.getJSAPIGeometry();
                    }
                    else if (typeof record.getGeometry === 'function') {
                        const iGeometry = record.getGeometry();
                        if (iGeometry) {
                            geometry = iGeometry;
                        }
                    }
                }
                catch (error) {
                    continue;
                }
            }
            else if (record.attributes && record.geometry) {
                data = record.attributes;
                geometry = record.geometry;
            }
            else {
                data = record.data || record.attributes || record;
                geometry = record.geometry || record.geom || null;
            }
            const parkingLotName = data === null || data === void 0 ? void 0 : data[config.parkingLotField];
            const utilizationPercentage = data === null || data === void 0 ? void 0 : data[config.utilizationField];
            if (!geometry || !parkingLotName) {
                continue;
            }
            const lotId = String(parkingLotName);
            processedLotIds.add(lotId);
            // Find existing label
            const labelElement = existingLabelsMap.get(lotId);
            if (!labelElement) {
                // Label doesn't exist - skip (don't create new ones here)
                continue;
            }
            // Calculate values
            const utilizationRaw = Number(utilizationPercentage);
            const utilizationValue = Number.isFinite(utilizationRaw) ? utilizationRaw : 0;
            const availableColor = config.availableColor || '#E683DD';
            const unavailableColor = config.unavailableColor || '#8B8B8B';
            const availabilityAnnouncement = getUtilizationText(utilizationValue);
            const utilizationText = config.showUtilizationText ? availabilityAnnouncement : '';
            let availability = 100 - utilizationValue;
            if (!config.allowNegatives && availability < 0) {
                availability = 0;
            }
            const availabilityPercentage = Math.max(0, Math.min(100, availability));
            // Update position (only if changed)
            try {
                const screenPoint = jimuMapView.view.toScreen(geometry);
                const newLeft = `${screenPoint.x - 50}px`;
                const newTop = `${screenPoint.y - 30}px`;
                if (labelElement.style.left !== newLeft) {
                    labelElement.style.left = newLeft;
                }
                if (labelElement.style.top !== newTop) {
                    labelElement.style.top = newTop;
                }
            }
            catch (error) {
                // Skip position update if conversion fails
            }
            // Update aria-label
            labelElement.setAttribute('aria-label', `${parkingLotName}: ${availabilityAnnouncement}`);
            // Find existing elements - structure: [gaugeWrapper, textContainer, tailBorder, tail]
            const children = Array.from(labelElement.children);
            const existingGaugeWrapper = children[0];
            const existingTextContainer = children[1];
            // Update gauge SVG in place
            if (existingGaugeWrapper) {
                const existingSvg = existingGaugeWrapper.querySelector('svg');
                if (existingSvg) {
                    const clampedAvailability = Math.max(0, Math.min(100, availabilityPercentage));
                    const fillPercentage = clampedAvailability; // Show availability clockwise
                    const sweepAngle = Math.min((fillPercentage / 100) * 360, 359.999);
                    // Update base fill color (first child)
                    const svgChildren = Array.from(existingSvg.children);
                    const baseFill = svgChildren[0];
                    if (baseFill && baseFill.tagName === 'circle') {
                        baseFill.setAttribute('fill', unavailableColor);
                    }
                    // Remove sector paths (keep base fill and outline)
                    // Base fill is first, base outline is last - remove everything in between
                    for (let i = svgChildren.length - 2; i >= 1; i--) {
                        existingSvg.removeChild(svgChildren[i]);
                    }
                    // Add new sector based on fill percentage
                    if (fillPercentage > 0) {
                        if (fillPercentage >= 99.5) {
                            // Full circle
                            const fullCircle = document.createElementNS(SVG_NS, 'circle');
                            fullCircle.setAttribute('cx', GAUGE_CENTER.toFixed(2));
                            fullCircle.setAttribute('cy', GAUGE_CENTER.toFixed(2));
                            fullCircle.setAttribute('r', (GAUGE_RADIUS - 3).toFixed(2));
                            fullCircle.setAttribute('fill', availableColor);
                            fullCircle.setAttribute('stroke', 'none');
                            existingSvg.insertBefore(fullCircle, existingSvg.lastChild);
                        }
                        else {
                            // Sector path
                            const sectorPath = document.createElementNS(SVG_NS, 'path');
                            sectorPath.setAttribute('d', describeSector(GAUGE_CENTER, GAUGE_CENTER, GAUGE_RADIUS - 3, -90, sweepAngle));
                            sectorPath.setAttribute('fill', availableColor);
                            sectorPath.setAttribute('stroke', 'none');
                            existingSvg.insertBefore(sectorPath, existingSvg.lastChild);
                            // Sector outline
                            const sectorOutline = document.createElementNS(SVG_NS, 'path');
                            sectorOutline.setAttribute('d', describeArc(GAUGE_CENTER, GAUGE_CENTER, GAUGE_RADIUS - 3, -90, sweepAngle));
                            sectorOutline.setAttribute('fill', 'none');
                            sectorOutline.setAttribute('stroke', availableColor);
                            sectorOutline.setAttribute('stroke-width', '3.5');
                            existingSvg.insertBefore(sectorOutline, existingSvg.lastChild);
                        }
                    }
                }
            }
            // Update text container - just update text content
            if (existingTextContainer) {
                const textChildren = Array.from(existingTextContainer.children);
                let utilElementIndex = config.showUtilizationText ? 0 : -1;
                let nameElementIndex = config.showUtilizationText ? 1 : 0;
                // Update utilization text
                if (config.showUtilizationText && utilElementIndex >= 0 && textChildren[utilElementIndex]) {
                    const utilElement = textChildren[utilElementIndex];
                    if (utilElement.textContent !== utilizationText) {
                        utilElement.textContent = utilizationText;
                    }
                }
                // Name shouldn't change, but verify
                if (textChildren[nameElementIndex]) {
                    const nameElement = textChildren[nameElementIndex];
                    if (nameElement.textContent !== parkingLotName) {
                        nameElement.textContent = parkingLotName;
                    }
                }
            }
        }
        // Remove labels that no longer have corresponding records
        existingLabelsMap.forEach((labelEl, lotId) => {
            if (!processedLotIds.has(lotId)) {
                debugLog('Removing label for parking lot that no longer exists:', lotId);
                if (labelEl.parentNode) {
                    labelEl.parentNode.removeChild(labelEl);
                }
            }
        });
        debugLog('Finished updating existing labels:', {
            processed: processedLotIds.size,
            removed: existingLabelsMap.size - processedLotIds.size
        });
    });
    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "parking-lot-widget jimu-widget", "data-widget-id": id, style: { width: '100%', height: '100%', overflow: 'hidden', position: 'relative' } },
        useMapWidgetIds && useMapWidgetIds.length > 0 && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.JimuMapViewComponent, { useMapWidgetId: useMapWidgetIds[0], onActiveViewChange: onActiveViewChange })),
        useDataSources && useDataSources.length > 0 ? ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceComponent, { useDataSource: useDataSources[0], widgetId: id, query: dataSourceQuery, onDataSourceInfoChange: (info, preInfo) => {
                debugLog('onDataSourceInfoChange', {
                    sourceVersion: info === null || info === void 0 ? void 0 : info.sourceVersion,
                    status: info === null || info === void 0 ? void 0 : info.status,
                    preStatus: preInfo === null || preInfo === void 0 ? void 0 : preInfo.status,
                    preSourceVersion: preInfo === null || preInfo === void 0 ? void 0 : preInfo.sourceVersion,
                    lastHandled: lastHandledSourceVersionRef.current
                });
                // Only react to ExB data lifecycle: sourceVersion change or status LOADED (ExB callback, no scheduling)
                if (!info)
                    return;
                if (info.sourceVersion !== undefined) {
                    const sourceVersionChanged = preInfo && info.sourceVersion !== preInfo.sourceVersion;
                    const versionNotHandledYet = lastHandledSourceVersionRef.current !== info.sourceVersion;
                    if ((sourceVersionChanged || lastHandledSourceVersionRef.current === null) && versionNotHandledYet) {
                        lastHandledSourceVersionRef.current = info.sourceVersion;
                        requestSafeLabelRefresh({ reason: 'source-version-changed' });
                    }
                    return;
                }
                // ExB may not send sourceVersion; react to lifecycle transitions only.
                const statusBecameLoaded = (preInfo === null || preInfo === void 0 ? void 0 : preInfo.status) !== 'LOADED' && info.status === 'LOADED';
                const becameNeedRefresh = !(preInfo === null || preInfo === void 0 ? void 0 : preInfo.needRefresh) && !!info.needRefresh;
                if (statusBecameLoaded || becameNeedRefresh) {
                    requestSafeLabelRefresh({ reason: statusBecameLoaded ? 'data-source-loaded-transition' : 'data-source-needRefresh-transition' });
                }
            } }, (ds) => {
            var _a, _b, _c, _d;
            debugLog('DataSourceComponent render function called', {
                hasDataSource: !!ds,
                status: (_a = ds === null || ds === void 0 ? void 0 : ds.getStatus) === null || _a === void 0 ? void 0 : _a.call(ds),
                dataSourceId: (_b = useDataSources === null || useDataSources === void 0 ? void 0 : useDataSources[0]) === null || _b === void 0 ? void 0 : _b.dataSourceId
            });
            if (!ds) {
                // Don't clear the ref  parent may re-render before we get ds again; refresh effect needs the ref to be set
                debugLog('No DataSource available (ref kept)');
                return null;
            }
            // Store reference to DataSource for watching
            dataSourceRef.current = ds;
            const dsStatus = (_c = ds.getStatus) === null || _c === void 0 ? void 0 : _c.call(ds);
            const dsId = (_d = useDataSources === null || useDataSources === void 0 ? void 0 : useDataSources[0]) === null || _d === void 0 ? void 0 : _d.dataSourceId;
            debugLog('Datasource status from render callback', { dsId, dsStatus });
            debugLog('DataSource stored in ref', {
                id: ds.id,
                type: ds.type,
                status: ds.getStatus()
            });
            return null;
        })) : null,
        !useMapWidgetIds || useMapWidgetIds.length === 0 ? ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "no-data" },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.FormattedMessage, { id: "selectMap", defaultMessage: "Please select a map widget in the settings" }))) : !useDataSources || useDataSources.length === 0 ? ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "no-data" },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.FormattedMessage, { id: "configureDataSource", defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_3__["default"].configureDataSource }))) : null));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Widget);
function __set_webpack_public_path__(url) { __webpack_require__.p = url; }

})();

/******/ 	return __webpack_exports__;
/******/ })()

			);
		}
	};
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9wYXJraW5nLWxvdC13aWRnZXQvZGlzdC9ydW50aW1lL3dpZGdldC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxNQUEyRztBQUMzRyxNQUFpRztBQUNqRyxNQUF3RztBQUN4RyxNQUEySDtBQUMzSCxNQUFvSDtBQUNwSCxNQUFvSDtBQUNwSCxNQUErUztBQUMvUztBQUNBOztBQUVBOztBQUVBLDRCQUE0QixxR0FBbUI7QUFDL0Msd0JBQXdCLGtIQUFhO0FBQ3JDLGlCQUFpQix1R0FBYTtBQUM5QixpQkFBaUIsK0ZBQU07QUFDdkIsNkJBQTZCLHNHQUFrQjs7QUFFL0MsYUFBYSwwR0FBRyxDQUFDLDRPQUFPOzs7O0FBSXlQO0FBQ2pSLE9BQU8saUVBQWUsNE9BQU8sSUFBSSw0T0FBTyxVQUFVLDRPQUFPLG1CQUFtQixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDeEI3RSxpRUFBZTtJQUNiLFlBQVksRUFBRSxvQkFBb0I7SUFDbEMsZ0JBQWdCLEVBQUUsb0JBQW9CO0lBQ3RDLFlBQVksRUFBRSwyQkFBMkI7SUFDekMsV0FBVyxFQUFFLDZCQUE2QjtJQUMxQyxnQkFBZ0IsRUFBRSwyQkFBMkI7SUFDN0MsZUFBZSxFQUFFLCtCQUErQjtJQUNoRCxtQkFBbUIsRUFBRSx1REFBdUQ7Q0FDN0U7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDUkQ7QUFDc0g7QUFDakI7QUFDckcsOEJBQThCLG1GQUEyQixDQUFDLDRGQUFxQztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsT0FBTyx3SEFBd0gsVUFBVSxXQUFXLE1BQU0sS0FBSyxXQUFXLE1BQU0sS0FBSyxVQUFVLFVBQVUsV0FBVyxVQUFVLE1BQU0sS0FBSyxXQUFXLE1BQU0sS0FBSyxVQUFVLFdBQVcsVUFBVSxNQUFNLEtBQUssV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLE1BQU0sS0FBSyxVQUFVLFdBQVcsVUFBVSxXQUFXLE1BQU0sS0FBSyxVQUFVLFVBQVUsV0FBVyxVQUFVLFdBQVcsV0FBVyxNQUFNLEtBQUssVUFBVSxXQUFXLFVBQVUsV0FBVyxVQUFVLFdBQVcsTUFBTSxLQUFLLFVBQVUsVUFBVSxXQUFXLHNCQUFzQixNQUFNLEtBQUssV0FBVyxVQUFVLFdBQVcsVUFBVSxXQUFXLFdBQVcsV0FBVyxNQUFNLEtBQUssV0FBVyxVQUFVLFVBQVUsV0FBVyxXQUFXLFdBQVcsTUFBTSxXQUFXLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLEtBQUssS0FBSyxXQUFXLEtBQUssV0FBVyxXQUFXLFdBQVcs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QUFDLGVBQWUsSUFBSSxlQUFlLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDbEQsd0RBQUssU0FBUyxFQUFDLFNBQVM7WUFDdEIsK0NBQUMsdURBQWdCLElBQUMsRUFBRSxFQUFDLFdBQVcsRUFBQyxjQUFjLEVBQUMsNENBQTRDLEdBQUUsQ0FDMUYsQ0FDUCxDQUFDLENBQUMsQ0FBQyxDQUFDLGNBQWMsSUFBSSxjQUFjLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDbkQsd0RBQUssU0FBUyxFQUFDLFNBQVM7WUFDdEIsK0NBQUMsdURBQWdCLElBQUMsRUFBRSxFQUFDLHFCQUFxQixFQUFDLGNBQWMsRUFBRSw2REFBbUIsQ0FBQyxtQkFBbUIsR0FBRyxDQUNqRyxDQUNQLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FDSixDQUNQO0FBQ0gsQ0FBQztBQUVELGlFQUFlLE1BQU07QUFFYixTQUFTLDJCQUEyQixDQUFDLEdBQUcsSUFBSSxxQkFBdUIsR0FBRyxHQUFHLEVBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9maW5uL3dpZGdldHMvcGFya2luZy1sb3Qtd2lkZ2V0L3NyYy9ydW50aW1lL3N0eWxlLmNzcz8xODNmIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9maW5uL3dpZGdldHMvcGFya2luZy1sb3Qtd2lkZ2V0L3NyYy9ydW50aW1lL3RyYW5zbGF0aW9ucy9kZWZhdWx0LnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9maW5uL3dpZGdldHMvcGFya2luZy1sb3Qtd2lkZ2V0L3NyYy9ydW50aW1lL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtYXJjZ2lzXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LWNvcmVcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWNvcmUvbGliL3NldC1wdWJsaWMtcGF0aC50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZmlubi93aWRnZXRzL3BhcmtpbmctbG90LXdpZGdldC9zcmMvcnVudGltZS93aWRnZXQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbM10udXNlWzFdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZXNvbHZlLXVybC1sb2FkZXIvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10udXNlWzJdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS51c2VbM10hLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcbm9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbM10udXNlWzFdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZXNvbHZlLXVybC1sb2FkZXIvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbM10udXNlWzJdIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1szXS51c2VbM10hLi9zdHlsZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIF93aWRnZXRMYWJlbDogJ1BhcmtpbmcgTG90IFdpZGdldCcsXG4gIHBhcmtpbmdMb3RTdGF0dXM6ICdQYXJraW5nIExvdCBTdGF0dXMnLFxuICBub0RhdGFTb3VyY2U6ICdObyBkYXRhIHNvdXJjZSBjb25maWd1cmVkJyxcbiAgbG9hZGluZ0RhdGE6ICdMb2FkaW5nIHBhcmtpbmcgbG90IGRhdGEuLi4nLFxuICBlcnJvckxvYWRpbmdEYXRhOiAnRXJyb3IgbG9hZGluZyBkYXRhIHNvdXJjZScsXG4gIG5vRGF0YUF2YWlsYWJsZTogJ05vIHBhcmtpbmcgbG90IGRhdGEgYXZhaWxhYmxlJyxcbiAgY29uZmlndXJlRGF0YVNvdXJjZTogJ1BsZWFzZSBjb25maWd1cmUgYSBkYXRhIHNvdXJjZSBpbiB0aGUgd2lkZ2V0IHNldHRpbmdzJ1xufVxuXG5cblxuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5wYXJraW5nLWxvdC13aWRnZXQge1xuICBwYWRkaW5nOiAxNnB4O1xuICBmb250LWZhbWlseTogXCJBdmVuaXIgTmV4dFwiLCBcIkhlbHZldGljYSBOZXVlXCIsIEFyaWFsLCBzYW5zLXNlcmlmO1xufVxuXG4ud2lkZ2V0LWhlYWRlciB7XG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XG59XG5cbi53aWRnZXQtaGVhZGVyIGgzIHtcbiAgbWFyZ2luOiAwO1xuICBmb250LXNpemU6IDE4cHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGNvbG9yOiAjMzIzMjMyO1xufVxuXG4ud2lkZ2V0LWNvbnRlbnQge1xuICBtaW4taGVpZ2h0OiAxMDBweDtcbn1cblxuLnBhcmtpbmctbG90LWxpc3Qge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDEycHg7XG59XG5cbi5wYXJraW5nLWxvdC1pdGVtIHtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgcGFkZGluZzogMTBweCAxMnB4O1xuICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwO1xufVxuXG4ucGFya2luZy1sb3QtY29udGVudCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogMTJweDtcbiAgbWFyZ2luLWJvdHRvbTogMnB4O1xufVxuXG4udXRpbGl6YXRpb24tZG90IHtcbiAgd2lkdGg6IDIwcHg7XG4gIGhlaWdodDogMjBweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBmbGV4LXNocmluazogMDtcbiAgYm9yZGVyOiAycHggc29saWQgd2hpdGU7XG4gIGJveC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMik7XG59XG5cbi5wYXJraW5nLWxvdC1uYW1lIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBmb250LXdlaWdodDogNzAwO1xuICBjb2xvcjogIzMyMzIzMjtcbiAgbGluZS1oZWlnaHQ6IDEuMztcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLnV0aWxpemF0aW9uLXRleHQge1xuICBmb250LXNpemU6IDE0cHg7XG4gIGNvbG9yOiAjNjY2NjY2O1xuICBmb250LXdlaWdodDogNDAwO1xuICBtYXJnaW4tbGVmdDogMzJweDsgLyogQWxpZ24gd2l0aCB0ZXh0IGFmdGVyIHRoZSBkb3QgKi9cbn1cblxuLm5vLWRhdGEge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiAjOTk5OTk5O1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIGJhY2tncm91bmQ6ICNmOGY4Zjg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgYm9yZGVyOiAxcHggZGFzaGVkICNjY2NjY2M7XG59XG5cbi5sb2FkaW5nIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjb2xvcjogIzY2NjY2NjtcbiAgcGFkZGluZzogMjBweDtcbiAgYmFja2dyb3VuZDogI2Y4ZjhmODtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwO1xufVxuXG4vKiBSZXNwb25zaXZlIGRlc2lnbiAqL1xuQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7XG4gIC5wYXJraW5nLWxvdC13aWRnZXQge1xuICAgIHBhZGRpbmc6IDEycHg7XG4gIH1cbiAgLnBhcmtpbmctbG90LWl0ZW0ge1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gIH1cbiAgLnBhcmtpbmctbG90LW5hbWUge1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgfVxuICAudXRpbGl6YXRpb24tdGV4dCB7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICB9XG59XG4vKiBIb3ZlciBlZmZlY3RzICovXG4ucGFya2luZy1sb3QtaXRlbTpob3ZlciB7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xufVxuXG4vKiBMb2FkaW5nIHN0YXRlICovXG4ucGFya2luZy1sb3Qtd2lkZ2V0LmxvYWRpbmcge1xuICBvcGFjaXR5OiAwLjY7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuXG4ucGFya2luZy1sb3Qtd2lkZ2V0LmxvYWRpbmc6OmFmdGVyIHtcbiAgY29udGVudDogXCJcIjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDUwJTtcbiAgbGVmdDogNTAlO1xuICB3aWR0aDogMjBweDtcbiAgaGVpZ2h0OiAyMHB4O1xuICBtYXJnaW46IC0xMHB4IDAgMCAtMTBweDtcbiAgYm9yZGVyOiAycHggc29saWQgI2YzZjNmMztcbiAgYm9yZGVyLXRvcDogMnB4IHNvbGlkICMzNDk4ZGI7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgYW5pbWF0aW9uOiBzcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcbn1cblxuQGtleWZyYW1lcyBzcGluIHtcbiAgMCUge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xuICB9XG4gIDEwMCUge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XG4gIH1cbn1gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL2Zpbm4vd2lkZ2V0cy9wYXJraW5nLWxvdC13aWRnZXQvc3JjL3J1bnRpbWUvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UsYUFBQTtFQUNBLCtEQUFBO0FBQ0Y7O0FBRUE7RUFDRSxtQkFBQTtBQUNGOztBQUVBO0VBQ0UsU0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7QUFDRjs7QUFFQTtFQUNFLGlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxTQUFBO0FBQ0Y7O0FBRUE7RUFDRSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSx3Q0FBQTtFQUNBLHlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxTQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0VBQ0EsdUJBQUE7RUFDQSx3Q0FBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUEsRUFBQSxrQ0FBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLDBCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLHlCQUFBO0FBQ0Y7O0FBRUEsc0JBQUE7QUFDQTtFQUNFO0lBQ0UsYUFBQTtFQUNGO0VBRUE7SUFDRSxhQUFBO0VBQUY7RUFHQTtJQUNFLGVBQUE7RUFERjtFQUlBO0lBQ0UsZUFBQTtFQUZGO0FBQ0Y7QUFLQSxrQkFBQTtBQUNBO0VBQ0UsMENBQUE7RUFDQSwyQkFBQTtFQUNBLHlCQUFBO0FBSEY7O0FBTUEsa0JBQUE7QUFDQTtFQUNFLFlBQUE7RUFDQSxvQkFBQTtBQUhGOztBQU1BO0VBQ0UsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHVCQUFBO0VBQ0EseUJBQUE7RUFDQSw2QkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0NBQUE7QUFIRjs7QUFNQTtFQUNFO0lBQUssdUJBQUE7RUFGTDtFQUdBO0lBQU8seUJBQUE7RUFBUDtBQUNGXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5wYXJraW5nLWxvdC13aWRnZXQge1xcbiAgcGFkZGluZzogMTZweDtcXG4gIGZvbnQtZmFtaWx5OiAnQXZlbmlyIE5leHQnLCAnSGVsdmV0aWNhIE5ldWUnLCBBcmlhbCwgc2Fucy1zZXJpZjtcXG59XFxuXFxuLndpZGdldC1oZWFkZXIge1xcbiAgbWFyZ2luLWJvdHRvbTogMTZweDtcXG59XFxuXFxuLndpZGdldC1oZWFkZXIgaDMge1xcbiAgbWFyZ2luOiAwO1xcbiAgZm9udC1zaXplOiAxOHB4O1xcbiAgZm9udC13ZWlnaHQ6IDYwMDtcXG4gIGNvbG9yOiAjMzIzMjMyO1xcbn1cXG5cXG4ud2lkZ2V0LWNvbnRlbnQge1xcbiAgbWluLWhlaWdodDogMTAwcHg7XFxufVxcblxcbi5wYXJraW5nLWxvdC1saXN0IHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgZ2FwOiAxMnB4O1xcbn1cXG5cXG4ucGFya2luZy1sb3QtaXRlbSB7XFxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcXG4gIHBhZGRpbmc6IDEwcHggMTJweDtcXG4gIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwO1xcbn1cXG5cXG4ucGFya2luZy1sb3QtY29udGVudCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGdhcDogMTJweDtcXG4gIG1hcmdpbi1ib3R0b206IDJweDtcXG59XFxuXFxuLnV0aWxpemF0aW9uLWRvdCB7XFxuICB3aWR0aDogMjBweDtcXG4gIGhlaWdodDogMjBweDtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gIGZsZXgtc2hyaW5rOiAwO1xcbiAgYm9yZGVyOiAycHggc29saWQgd2hpdGU7XFxuICBib3gtc2hhZG93OiAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjIpO1xcbn1cXG5cXG4ucGFya2luZy1sb3QtbmFtZSB7XFxuICBmb250LXNpemU6IDE2cHg7XFxuICBmb250LXdlaWdodDogNzAwO1xcbiAgY29sb3I6ICMzMjMyMzI7XFxuICBsaW5lLWhlaWdodDogMS4zO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi51dGlsaXphdGlvbi10ZXh0IHtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIGNvbG9yOiAjNjY2NjY2O1xcbiAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gIG1hcmdpbi1sZWZ0OiAzMnB4OyAvKiBBbGlnbiB3aXRoIHRleHQgYWZ0ZXIgdGhlIGRvdCAqL1xcbn1cXG5cXG4ubm8tZGF0YSB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBjb2xvcjogIzk5OTk5OTtcXG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcXG4gIHBhZGRpbmc6IDIwcHg7XFxuICBiYWNrZ3JvdW5kOiAjZjhmOGY4O1xcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xcbiAgYm9yZGVyOiAxcHggZGFzaGVkICNjY2NjY2M7XFxufVxcblxcbi5sb2FkaW5nIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGNvbG9yOiAjNjY2NjY2O1xcbiAgcGFkZGluZzogMjBweDtcXG4gIGJhY2tncm91bmQ6ICNmOGY4Zjg7XFxuICBib3JkZXItcmFkaXVzOiA4cHg7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwO1xcbn1cXG5cXG4vKiBSZXNwb25zaXZlIGRlc2lnbiAqL1xcbkBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkge1xcbiAgLnBhcmtpbmctbG90LXdpZGdldCB7XFxuICAgIHBhZGRpbmc6IDEycHg7XFxuICB9XFxuICBcXG4gIC5wYXJraW5nLWxvdC1pdGVtIHtcXG4gICAgcGFkZGluZzogMTBweDtcXG4gIH1cXG4gIFxcbiAgLnBhcmtpbmctbG90LW5hbWUge1xcbiAgICBmb250LXNpemU6IDE0cHg7XFxuICB9XFxuICBcXG4gIC51dGlsaXphdGlvbi10ZXh0IHtcXG4gICAgZm9udC1zaXplOiAxMnB4O1xcbiAgfVxcbn1cXG5cXG4vKiBIb3ZlciBlZmZlY3RzICovXFxuLnBhcmtpbmctbG90LWl0ZW06aG92ZXIge1xcbiAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpO1xcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcXG59XFxuXFxuLyogTG9hZGluZyBzdGF0ZSAqL1xcbi5wYXJraW5nLWxvdC13aWRnZXQubG9hZGluZyB7XFxuICBvcGFjaXR5OiAwLjY7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuXFxuLnBhcmtpbmctbG90LXdpZGdldC5sb2FkaW5nOjphZnRlciB7XFxuICBjb250ZW50OiAnJztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogNTAlO1xcbiAgbGVmdDogNTAlO1xcbiAgd2lkdGg6IDIwcHg7XFxuICBoZWlnaHQ6IDIwcHg7XFxuICBtYXJnaW46IC0xMHB4IDAgMCAtMTBweDtcXG4gIGJvcmRlcjogMnB4IHNvbGlkICNmM2YzZjM7XFxuICBib3JkZXItdG9wOiAycHggc29saWQgIzM0OThkYjtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XFxufVxcblxcbkBrZXlmcmFtZXMgc3BpbiB7XFxuICAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XFxuICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfYXJjZ2lzX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfY29yZV9fOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiLyoqXHJcbiAqIFdlYnBhY2sgd2lsbCByZXBsYWNlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHdpdGggX193ZWJwYWNrX3JlcXVpcmVfXy5wIHRvIHNldCB0aGUgcHVibGljIHBhdGggZHluYW1pY2FsbHkuXHJcbiAqIFRoZSByZWFzb24gd2h5IHdlIGNhbid0IHNldCB0aGUgcHVibGljUGF0aCBpbiB3ZWJwYWNrIGNvbmZpZyBpczogd2UgY2hhbmdlIHRoZSBwdWJsaWNQYXRoIHdoZW4gZG93bmxvYWQuXHJcbiAqICovXHJcbl9fd2VicGFja19wdWJsaWNfcGF0aF9fID0gd2luZG93LmppbXVDb25maWcuYmFzZVVybFxyXG4iLCIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IFJlYWN0LCB0eXBlIEFsbFdpZGdldFByb3BzLCBEYXRhU291cmNlQ29tcG9uZW50LCB0eXBlIERhdGFTb3VyY2UsIGpzeCwgRm9ybWF0dGVkTWVzc2FnZSwgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IEppbXVNYXBWaWV3Q29tcG9uZW50LCB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXG5pbXBvcnQgeyB0eXBlIElNQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJ1xuaW1wb3J0ICcuL3N0eWxlLmNzcydcbmltcG9ydCBkZWZhdWx0STE4bk1lc3NhZ2VzIGZyb20gJy4vdHJhbnNsYXRpb25zL2RlZmF1bHQnXG5cbmludGVyZmFjZSBQYXJraW5nTG90RGF0YSB7XG4gIFtrZXk6IHN0cmluZ106IGFueVxufVxuXG5pbnRlcmZhY2UgUGFya2luZ0xvdExhYmVsRW50cnkge1xuICBlbGVtZW50OiBIVE1MRWxlbWVudFxuICBnZW9tZXRyeTogX19lc3JpLlBvaW50XG4gIGRhdGE6IFBhcmtpbmdMb3REYXRhXG59XG5cbmNvbnN0IGRlYnVnTG9nID0gKC4uLl9hcmdzOiBhbnlbXSkgPT4ge31cblxuY29uc3QgU1ZHX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJ1xuY29uc3QgR0FVR0VfU0laRSA9IDQ0XG5jb25zdCBHQVVHRV9WSUVXQk9YX1NJWkUgPSAxMDBcbmNvbnN0IEdBVUdFX0NFTlRFUiA9IEdBVUdFX1ZJRVdCT1hfU0laRSAvIDJcbmNvbnN0IEdBVUdFX1JBRElVUyA9IEdBVUdFX1ZJRVdCT1hfU0laRSAvIDIgLSA0XG5cbmNvbnN0IHBvbGFyVG9DYXJ0ZXNpYW4gPSAoY2VudGVyWDogbnVtYmVyLCBjZW50ZXJZOiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCBhbmdsZUluRGVncmVlczogbnVtYmVyKSA9PiB7XG4gIGNvbnN0IGFuZ2xlSW5SYWRpYW5zID0gKE1hdGguUEkgLyAxODApICogYW5nbGVJbkRlZ3JlZXNcblxuICByZXR1cm4ge1xuICAgIHg6IGNlbnRlclggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZUluUmFkaWFucyksXG4gICAgeTogY2VudGVyWSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlSW5SYWRpYW5zKVxuICB9XG59XG5cbmNvbnN0IGRlc2NyaWJlQXJjID0gKGNlbnRlclg6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgc3RhcnRBbmdsZTogbnVtYmVyLCBzd2VlcEFuZ2xlOiBudW1iZXIpID0+IHtcbiAgY29uc3QgZW5kQW5nbGUgPSBzdGFydEFuZ2xlICsgc3dlZXBBbmdsZVxuICBjb25zdCBzdGFydCA9IHBvbGFyVG9DYXJ0ZXNpYW4oY2VudGVyWCwgY2VudGVyWSwgcmFkaXVzLCBzdGFydEFuZ2xlKVxuICBjb25zdCBlbmQgPSBwb2xhclRvQ2FydGVzaWFuKGNlbnRlclgsIGNlbnRlclksIHJhZGl1cywgZW5kQW5nbGUpXG4gIGNvbnN0IGFic1N3ZWVwQW5nbGUgPSBNYXRoLmFicyhzd2VlcEFuZ2xlKVxuICBjb25zdCBsYXJnZUFyY0ZsYWcgPSBhYnNTd2VlcEFuZ2xlID4gMTgwID8gJzEnIDogJzAnXG4gIGNvbnN0IHN3ZWVwRmxhZyA9IHN3ZWVwQW5nbGUgPCAwID8gJzAnIDogJzEnIC8vIDAgPSBjb3VudGVyY2xvY2t3aXNlLCAxID0gY2xvY2t3aXNlXG5cbiAgcmV0dXJuIFtcbiAgICAnTScsIHN0YXJ0LngudG9GaXhlZCgyKSwgc3RhcnQueS50b0ZpeGVkKDIpLFxuICAgICdBJywgcmFkaXVzLnRvRml4ZWQoMiksIHJhZGl1cy50b0ZpeGVkKDIpLCAnMCcsIGxhcmdlQXJjRmxhZywgc3dlZXBGbGFnLCBlbmQueC50b0ZpeGVkKDIpLCBlbmQueS50b0ZpeGVkKDIpXG4gIF0uam9pbignICcpXG59XG5cbmNvbnN0IGRlc2NyaWJlU2VjdG9yID0gKGNlbnRlclg6IG51bWJlciwgY2VudGVyWTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgc3RhcnRBbmdsZTogbnVtYmVyLCBzd2VlcEFuZ2xlOiBudW1iZXIpID0+IHtcbiAgY29uc3Qgc3RhcnQgPSBwb2xhclRvQ2FydGVzaWFuKGNlbnRlclgsIGNlbnRlclksIHJhZGl1cywgc3RhcnRBbmdsZSlcbiAgY29uc3QgZW5kID0gcG9sYXJUb0NhcnRlc2lhbihjZW50ZXJYLCBjZW50ZXJZLCByYWRpdXMsIHN0YXJ0QW5nbGUgKyBzd2VlcEFuZ2xlKVxuICBjb25zdCBhYnNTd2VlcEFuZ2xlID0gTWF0aC5hYnMoc3dlZXBBbmdsZSlcbiAgY29uc3QgbGFyZ2VBcmNGbGFnID0gYWJzU3dlZXBBbmdsZSA+IDE4MCA/ICcxJyA6ICcwJ1xuICBjb25zdCBzd2VlcEZsYWcgPSBzd2VlcEFuZ2xlIDwgMCA/ICcwJyA6ICcxJyAvLyAwID0gY291bnRlcmNsb2Nrd2lzZSwgMSA9IGNsb2Nrd2lzZVxuXG4gIHJldHVybiBbXG4gICAgJ00nLCBjZW50ZXJYLnRvRml4ZWQoMiksIGNlbnRlclkudG9GaXhlZCgyKSxcbiAgICAnTCcsIHN0YXJ0LngudG9GaXhlZCgyKSwgc3RhcnQueS50b0ZpeGVkKDIpLFxuICAgICdBJywgcmFkaXVzLnRvRml4ZWQoMiksIHJhZGl1cy50b0ZpeGVkKDIpLCAnMCcsIGxhcmdlQXJjRmxhZywgc3dlZXBGbGFnLCBlbmQueC50b0ZpeGVkKDIpLCBlbmQueS50b0ZpeGVkKDIpLFxuICAgICdaJ1xuICBdLmpvaW4oJyAnKVxufVxuXG5jb25zdCBXaWRnZXQgPSAocHJvcHM6IEFsbFdpZGdldFByb3BzPElNQ29uZmlnPikgPT4ge1xuICBjb25zdCB7IGNvbmZpZywgaWQsIHVzZURhdGFTb3VyY2VzLCB1c2VNYXBXaWRnZXRJZHMgfSA9IHByb3BzXG4gIGNvbnN0IFtqaW11TWFwVmlldywgc2V0SmltdU1hcFZpZXddID0gUmVhY3QudXNlU3RhdGU8SmltdU1hcFZpZXc+KG51bGwpXG4gIGNvbnN0IFtwYXJraW5nTG90TGFiZWxzLCBzZXRQYXJraW5nTG90TGFiZWxzXSA9IFJlYWN0LnVzZVN0YXRlPFBhcmtpbmdMb3RMYWJlbEVudHJ5W10+KFtdKVxuICBjb25zdCBbbWFwQ29udGFpbmVyLCBzZXRNYXBDb250YWluZXJdID0gUmVhY3QudXNlU3RhdGU8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG4gIGNvbnN0IFtjdXJyZW50RGF0YVNvdXJjZUlkLCBzZXRDdXJyZW50RGF0YVNvdXJjZUlkXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZz4obnVsbClcbiAgY29uc3QgW3Nob3VsZFVwZGF0ZUxhYmVscywgc2V0U2hvdWxkVXBkYXRlTGFiZWxzXSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKVxuICBjb25zdCBkYXRhU291cmNlUmVmID0gUmVhY3QudXNlUmVmPERhdGFTb3VyY2U+KG51bGwpXG4gIGNvbnN0IGxhYmVsc1JlZiA9IFJlYWN0LnVzZVJlZjxQYXJraW5nTG90TGFiZWxFbnRyeVtdPihbXSlcbiAgY29uc3QgcG9zaXRpb25GcmFtZVJlZiA9IFJlYWN0LnVzZVJlZjxudW1iZXI+KG51bGwpXG4gIGNvbnN0IGxhYmVsc0NyZWF0ZWRGb3JEYXRhU291cmNlUmVmID0gUmVhY3QudXNlUmVmPHN0cmluZz4obnVsbCkgLy8gVHJhY2sgd2hpY2ggRFMgd2UndmUgY3JlYXRlZCBsYWJlbHMgZm9yXG4gIGNvbnN0IGlzQ3JlYXRpbmdMYWJlbHNSZWYgPSBSZWFjdC51c2VSZWY8Ym9vbGVhbj4oZmFsc2UpIC8vIFByZXZlbnQgY29uY3VycmVudCBjcmVhdGlvblxuICBjb25zdCBpc1JlZnJlc2hJbkZsaWdodFJlZiA9IFJlYWN0LnVzZVJlZjxib29sZWFuPihmYWxzZSkgLy8gUHJldmVudCBvdmVybGFwcGluZyByZWZyZXNoZXNcbiAgY29uc3QgbGFzdEhhbmRsZWRTb3VyY2VWZXJzaW9uUmVmID0gUmVhY3QudXNlUmVmPG51bWJlcj4obnVsbClcbiAgY29uc3QgTUFYX1JFTkRFUkFCTEVfUkVDT1JEUyA9IDEwMDBcbiAgY29uc3QgZGF0YVNvdXJjZVF1ZXJ5ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgcGFya2luZ0ZpZWxkID0gY29uZmlnLnBhcmtpbmdMb3RGaWVsZCB8fCAncGFya2luZ19sb3QnXG4gICAgY29uc3QgdXRpbGl6YXRpb25GaWVsZCA9IGNvbmZpZy51dGlsaXphdGlvbkZpZWxkIHx8ICd1dGlsaXphdGlvbl9wZXJjZW50YWdlJ1xuICAgIHJldHVybiB7XG4gICAgICB3aGVyZTogJzE9MScsXG4gICAgICBvdXRGaWVsZHM6IFtwYXJraW5nRmllbGQsIHV0aWxpemF0aW9uRmllbGRdLFxuICAgICAgcmV0dXJuR2VvbWV0cnk6IHRydWUsXG4gICAgICBwYWdlOiAxLFxuICAgICAgcGFnZVNpemU6IDEwMFxuICAgIH1cbiAgfSwgW2NvbmZpZy5wYXJraW5nTG90RmllbGQsIGNvbmZpZy51dGlsaXphdGlvbkZpZWxkXSlcblxuICBjb25zdCByZXNvbHZlTWFwQ29udGFpbmVyID0gUmVhY3QudXNlQ2FsbGJhY2soKGptdj86IEppbXVNYXBWaWV3KTogSFRNTERpdkVsZW1lbnQgfCBudWxsID0+IHtcbiAgICBjb25zdCB3aWRnZXRJZCA9IHVzZU1hcFdpZGdldElkcz8uWzBdXG4gICAgY29uc3QgZGlyZWN0Vmlld0NvbnRhaW5lciA9IChqbXY/LnZpZXcgYXMgYW55KT8uY29udGFpbmVyIGFzIEhUTUxEaXZFbGVtZW50IHwgbnVsbFxuICAgIGNvbnN0IGRpcmVjdFZpZXdQYXJlbnQgPSBkaXJlY3RWaWV3Q29udGFpbmVyPy5wYXJlbnRFbGVtZW50IGFzIEhUTUxEaXZFbGVtZW50IHwgbnVsbFxuICAgIGNvbnN0IGJ5V2lkZ2V0TWFwUm9vdCA9IHdpZGdldElkID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtd2lkZ2V0LWlkPVwiJHt3aWRnZXRJZH1cIl0gLm1hcC1yb290YCkgOiBudWxsXG4gICAgY29uc3QgYnlXaWRnZXRWaWV3Um9vdCA9IHdpZGdldElkID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtd2lkZ2V0LWlkPVwiJHt3aWRnZXRJZH1cIl0gLmVzcmktdmlldy1yb290YCkgOiBudWxsXG4gICAgY29uc3QgYnlXaWRnZXRWaWV3ID0gd2lkZ2V0SWQgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS13aWRnZXQtaWQ9XCIke3dpZGdldElkfVwiXSAuZXNyaS12aWV3YCkgOiBudWxsXG4gICAgY29uc3QgYnlXaWRnZXRSb290ID0gd2lkZ2V0SWQgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS13aWRnZXQtaWQ9XCIke3dpZGdldElkfVwiXWApIDogbnVsbFxuICAgIGNvbnN0IGNhbmRpZGF0ZSA9IChcbiAgICAgIGRpcmVjdFZpZXdDb250YWluZXIgfHxcbiAgICAgIGRpcmVjdFZpZXdQYXJlbnQgfHxcbiAgICAgIGJ5V2lkZ2V0Vmlld1Jvb3QgfHxcbiAgICAgIGJ5V2lkZ2V0VmlldyB8fFxuICAgICAgYnlXaWRnZXRNYXBSb290IHx8XG4gICAgICBieVdpZGdldFJvb3RcbiAgICApIGFzIEhUTUxEaXZFbGVtZW50IHwgbnVsbFxuXG4gICAgcmV0dXJuIGNhbmRpZGF0ZSB8fCBudWxsXG4gIH0sIFt1c2VNYXBXaWRnZXRJZHNdKVxuXG4gIGNvbnN0IGNsZWFyTGFiZWxzRnJvbUNvbnRhaW5lciA9IFJlYWN0LnVzZUNhbGxiYWNrKChjb250YWluZXI/OiBIVE1MRWxlbWVudCB8IG51bGwpID0+IHtcbiAgICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuXG4gICAgY29uc3QgbGFiZWxzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYXJraW5nLWxvdC1tYXAtbGFiZWwnKVxuICAgIGxhYmVscy5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGlmIChlbC5wYXJlbnROb2RlKSB7XG4gICAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpXG4gICAgICB9XG4gICAgfSlcbiAgfSwgW10pXG5cbiAgY29uc3QgZ2V0RmVhdHVyZUZyb21SZWNvcmQgPSBSZWFjdC51c2VDYWxsYmFjaygocmVjb3JkOiBhbnkpOiBfX2VzcmkuR3JhcGhpYyB8IG51bGwgPT4ge1xuICAgIGlmICghcmVjb3JkKSByZXR1cm4gbnVsbFxuICAgIGlmIChyZWNvcmQ/LmZlYXR1cmU/Lmdlb21ldHJ5KSB7XG4gICAgICByZXR1cm4gcmVjb3JkLmZlYXR1cmUgYXMgX19lc3JpLkdyYXBoaWNcbiAgICB9XG4gICAgaWYgKHJlY29yZD8uZmVhdHVyZT8uYXR0cmlidXRlcyAmJiB0eXBlb2YgcmVjb3JkPy5nZXRKU0FQSUdlb21ldHJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zdCBnZW9tZXRyeSA9IHJlY29yZC5nZXRKU0FQSUdlb21ldHJ5KClcbiAgICAgIGlmIChnZW9tZXRyeSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGdlb21ldHJ5LFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHJlY29yZC5mZWF0dXJlLmF0dHJpYnV0ZXNcbiAgICAgICAgfSBhcyBfX2VzcmkuR3JhcGhpY1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlY29yZD8uZ2V0SlNBUElHZW9tZXRyeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc3QgZ2VvbWV0cnkgPSByZWNvcmQuZ2V0SlNBUElHZW9tZXRyeSgpXG4gICAgICBjb25zdCBhdHRyaWJ1dGVzID0gcmVjb3JkLmdldERhdGE/LigpIHx8IHt9XG4gICAgICBpZiAoZ2VvbWV0cnkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBnZW9tZXRyeSxcbiAgICAgICAgICBhdHRyaWJ1dGVzXG4gICAgICAgIH0gYXMgX19lc3JpLkdyYXBoaWNcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlY29yZD8uYXR0cmlidXRlcyAmJiByZWNvcmQ/Lmdlb21ldHJ5KSB7XG4gICAgICByZXR1cm4gcmVjb3JkIGFzIF9fZXNyaS5HcmFwaGljXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH0sIFtdKVxuXG4gIGNvbnN0IGdldERhdGFGcm9tUmVjb3JkID0gUmVhY3QudXNlQ2FsbGJhY2soKHJlY29yZDogYW55KTogUGFya2luZ0xvdERhdGEgfCBudWxsID0+IHtcbiAgICBpZiAoIXJlY29yZCkgcmV0dXJuIG51bGxcbiAgICBpZiAodHlwZW9mIHJlY29yZD8uZ2V0RGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIChyZWNvcmQuZ2V0RGF0YSgpIHx8IG51bGwpIGFzIFBhcmtpbmdMb3REYXRhIHwgbnVsbFxuICAgIH1cbiAgICBpZiAocmVjb3JkPy5mZWF0dXJlPy5hdHRyaWJ1dGVzKSB7XG4gICAgICByZXR1cm4gcmVjb3JkLmZlYXR1cmUuYXR0cmlidXRlcyBhcyBQYXJraW5nTG90RGF0YVxuICAgIH1cbiAgICBpZiAocmVjb3JkPy5hdHRyaWJ1dGVzKSB7XG4gICAgICByZXR1cm4gcmVjb3JkLmF0dHJpYnV0ZXMgYXMgUGFya2luZ0xvdERhdGFcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfSwgW10pXG5cbiAgLy8gSGFuZGxlIG1hcCB2aWV3IGFjdGl2YXRpb25cbiAgY29uc3Qgb25BY3RpdmVWaWV3Q2hhbmdlID0gKGptdjogSmltdU1hcFZpZXcpID0+IHtcbiAgICBpZiAoam12KSB7XG4gICAgICBzZXRKaW11TWFwVmlldyhqbXYpXG4gICAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVNYXBDb250YWluZXIoam12KVxuICAgICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICAgIGRlYnVnTG9nKCdSZXNvbHZlZCBtYXAgY29udGFpbmVyIG9uIGFjdGl2ZSB2aWV3IGNoYW5nZScsIHsgdGFnTmFtZTogcmVzb2x2ZWQudGFnTmFtZSwgY2xhc3NOYW1lOiByZXNvbHZlZC5jbGFzc05hbWUgfSlcbiAgICAgICAgc2V0TWFwQ29udGFpbmVyKHJlc29sdmVkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVidWdMb2coJ0NvdWxkIG5vdCByZXNvbHZlIG1hcCBjb250YWluZXIgb24gYWN0aXZlIHZpZXcgY2hhbmdlJylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBSZWNvdmVyeSBwYXRoOiBpZiBjb250YWluZXIgaXMgbm90IGF2YWlsYWJsZSBkdXJpbmcgb25BY3RpdmVWaWV3Q2hhbmdlLFxuICAvLyBiaW5kIGl0IG9uY2UgdGhlIHZpZXcgY29udGFpbmVyIGJlY29tZXMgYXZhaWxhYmxlLlxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtYXBDb250YWluZXIgfHwgIWppbXVNYXBWaWV3Py52aWV3KSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgcmVzb2x2ZWQgPSByZXNvbHZlTWFwQ29udGFpbmVyKGppbXVNYXBWaWV3KVxuICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgZGVidWdMb2coJ1Jlc29sdmVkIG1hcCBjb250YWluZXIgaW4gcmVjb3ZlcnkgZWZmZWN0JywgeyB0YWdOYW1lOiByZXNvbHZlZC50YWdOYW1lLCBjbGFzc05hbWU6IHJlc29sdmVkLmNsYXNzTmFtZSB9KVxuICAgICAgc2V0TWFwQ29udGFpbmVyKHJlc29sdmVkKVxuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Z0xvZygnUmVjb3ZlcnkgZWZmZWN0IHN0aWxsIGNhbm5vdCByZXNvbHZlIG1hcCBjb250YWluZXInKVxuICAgIH1cbiAgfSwgW2ppbXVNYXBWaWV3LCBtYXBDb250YWluZXIsIHJlc29sdmVNYXBDb250YWluZXJdKVxuXG4gIC8vIEVuc3VyZSBhYnNvbHV0ZS1wb3NpdGlvbmVkIGxhYmVscyBjYW4gcmVuZGVyIGluIHRoZSBzZWxlY3RlZCBob3N0XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFtYXBDb250YWluZXIpIHJldHVyblxuICAgIGNvbnN0IGNvbXB1dGVkUG9zaXRpb24gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShtYXBDb250YWluZXIpLnBvc2l0aW9uXG4gICAgaWYgKGNvbXB1dGVkUG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgICBtYXBDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnXG4gICAgfVxuICB9LCBbbWFwQ29udGFpbmVyXSlcblxuICAvLyBVcGRhdGUgbGFiZWwgcG9zaXRpb25zIHdoZW4gbWFwIHZpZXcgY2hhbmdlc1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChqaW11TWFwVmlldyAmJiBwYXJraW5nTG90TGFiZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHVwZGF0ZUxhYmVsUG9zaXRpb25zID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB6b29tID0gamltdU1hcFZpZXcudmlldy56b29tXG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHNjYWxlIGZhY3RvciBiYXNlZCBvbiB6b29tIGxldmVsXG4gICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5tYXgoMC4zLCBNYXRoLm1pbigxLjAsICh6b29tIC0gMTApIC8gOCkpXG4gICAgICAgIFxuICAgICAgICBwYXJraW5nTG90TGFiZWxzLmZvckVhY2gobGFiZWwgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzY3JlZW5Qb2ludCA9IGppbXVNYXBWaWV3LnZpZXcudG9TY3JlZW4obGFiZWwuZ2VvbWV0cnkpXG4gICAgICAgICAgICBpZiAobGFiZWwuZWxlbWVudCkge1xuICAgICAgICAgICAgICAvLyBBcHBseSBzY2FsaW5nIHdpdGggdGFpbCBwb3NpdGlvbiBhcyBvcmlnaW4gKDIwcHggZnJvbSBsZWZ0KVxuICAgICAgICAgICAgICBsYWJlbC5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3NjYWxlfSlgXG4gICAgICAgICAgICAgIGxhYmVsLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJzIwcHggYm90dG9tJ1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gR2V0IHRoZSBlbGVtZW50IGhlaWdodCB0byBwb3NpdGlvbiBpdCBhYm92ZSB0aGUgcG9pbnRcbiAgICAgICAgICAgICAgY29uc3QgZWxlbWVudEhlaWdodCA9IGxhYmVsLmVsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8IDYwXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBGaXhlZCBvZmZzZXQgLSB0YWlsIHNob3VsZCBwb2ludCB0byB0aGUgZXhhY3QgY29vcmRpbmF0ZVxuICAgICAgICAgICAgICBsYWJlbC5lbGVtZW50LnN0eWxlLmxlZnQgPSBgJHtzY3JlZW5Qb2ludC54IC0gMjB9cHhgXG4gICAgICAgICAgICAgIGxhYmVsLmVsZW1lbnQuc3R5bGUudG9wID0gYCR7c2NyZWVuUG9pbnQueSAtIGVsZW1lbnRIZWlnaHQgLSA4fXB4YFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBTaWxlbnRseSBoYW5kbGUgcG9zaXRpb24gdXBkYXRlIGVycm9yc1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gVGhyb3R0bGUgdXBkYXRlcyB0byBhbmltYXRpb24gZnJhbWVzIHRvIGF2b2lkIGV4Y2Vzc2l2ZSByZXBvc2l0aW9uIHdvcmsgZHVyaW5nIG1hcCBpbnRlcmFjdGlvbi5cbiAgICAgIGNvbnN0IHNjaGVkdWxlUG9zaXRpb25VcGRhdGUgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwb3NpdGlvbkZyYW1lUmVmLmN1cnJlbnQgIT09IG51bGwpIHJldHVyblxuICAgICAgICBwb3NpdGlvbkZyYW1lUmVmLmN1cnJlbnQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBwb3NpdGlvbkZyYW1lUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICAgICAgdXBkYXRlTGFiZWxQb3NpdGlvbnMoKVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgcG9zaXRpb25zIG9uIHZpZXcgY2hhbmdlc1xuICAgICAgY29uc3QgaGFuZGxlczogX19lc3JpLldhdGNoSGFuZGxlW10gPSBbXG4gICAgICAgIGppbXVNYXBWaWV3LnZpZXcud2F0Y2goJ2V4dGVudCcsIHNjaGVkdWxlUG9zaXRpb25VcGRhdGUpLFxuICAgICAgICBqaW11TWFwVmlldy52aWV3LndhdGNoKCdjZW50ZXInLCBzY2hlZHVsZVBvc2l0aW9uVXBkYXRlKSxcbiAgICAgICAgamltdU1hcFZpZXcudmlldy53YXRjaCgnem9vbScsIHNjaGVkdWxlUG9zaXRpb25VcGRhdGUpXG4gICAgICBdXG5cbiAgICAgIC8vIEluaXRpYWwgcG9zaXRpb24gdXBkYXRlXG4gICAgICBzY2hlZHVsZVBvc2l0aW9uVXBkYXRlKClcblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKHBvc2l0aW9uRnJhbWVSZWYuY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShwb3NpdGlvbkZyYW1lUmVmLmN1cnJlbnQpXG4gICAgICAgICAgcG9zaXRpb25GcmFtZVJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICB9XG4gICAgICAgIGhhbmRsZXMuZm9yRWFjaChoYW5kbGUgPT4ge1xuICAgICAgICAgIGlmIChoYW5kbGUgJiYgdHlwZW9mIGhhbmRsZS5yZW1vdmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGhhbmRsZS5yZW1vdmUoKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtqaW11TWFwVmlldywgcGFya2luZ0xvdExhYmVsc10pXG5cbiAgLy8gQ2xlYW4gdXAgbGFiZWxzIHdoZW4gd2lkZ2V0IHVubW91bnRzXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHBhcmtpbmdMb3RMYWJlbHMuZm9yRWFjaChsYWJlbCA9PiB7XG4gICAgICAgIGlmIChsYWJlbC5lbGVtZW50ICYmIGxhYmVsLmVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGxhYmVsLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsYWJlbC5lbGVtZW50KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSwgW3BhcmtpbmdMb3RMYWJlbHNdKVxuXG4gIC8vIFJlc2V0IGxhYmVscyB3aGVuIGRhdGEgc291cmNlIG9yIGNvbmZpZyBjaGFuZ2VzXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQWx3YXlzIGNsZWFyIGFuZCByZXNldCB3aGVuIGNvbmZpZyBjaGFuZ2VzXG4gICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgIC8vIFJlbW92ZSBhbGwgbGFiZWxzIGZyb20gRE9NXG4gICAgICBjbGVhckxhYmVsc0Zyb21Db250YWluZXIobWFwQ29udGFpbmVyKVxuXG4gICAgICAvLyBDbGVhciBzdGF0ZVxuICAgICAgc2V0UGFya2luZ0xvdExhYmVscyhbXSlcbiAgICAgIHNldEN1cnJlbnREYXRhU291cmNlSWQobnVsbClcbiAgICAgIHNldFNob3VsZFVwZGF0ZUxhYmVscyh0cnVlKVxuICAgICAgbGFiZWxzQ3JlYXRlZEZvckRhdGFTb3VyY2VSZWYuY3VycmVudCA9IG51bGxcbiAgICAgIGlzQ3JlYXRpbmdMYWJlbHNSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgICBpc1JlZnJlc2hJbkZsaWdodFJlZi5jdXJyZW50ID0gZmFsc2VcbiAgICAgIGxhc3RIYW5kbGVkU291cmNlVmVyc2lvblJlZi5jdXJyZW50ID0gbnVsbFxuICAgIH1cbiAgICBcbiAgICBjbGVhbnVwKClcbiAgfSwgW2NsZWFyTGFiZWxzRnJvbUNvbnRhaW5lciwgbWFwQ29udGFpbmVyLCBjb25maWcucGFya2luZ0xvdEZpZWxkLCBjb25maWcudXRpbGl6YXRpb25GaWVsZCwgY29uZmlnLnNob3dVdGlsaXphdGlvblRleHQsIGNvbmZpZy5hbGxvd05lZ2F0aXZlcywgY29uZmlnLmZ1bGxUaHJlc2hvbGQsIGNvbmZpZy5hdmFpbGFibGVDb2xvciwgY29uZmlnLnVuYXZhaWxhYmxlQ29sb3JdKVxuXG4gIC8vIFdhdGNoIGZvciBkYXRhIHNvdXJjZSBJRCBjaGFuZ2VzIChpbmNsdWRlcyB2aWV3IGNoYW5nZXMpXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF1c2VEYXRhU291cmNlcyB8fCB1c2VEYXRhU291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHNldEN1cnJlbnREYXRhU291cmNlSWQobnVsbClcbiAgICAgIHNldFNob3VsZFVwZGF0ZUxhYmVscyhmYWxzZSlcbiAgICAgIGxhc3RIYW5kbGVkU291cmNlVmVyc2lvblJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgbmV3RGF0YVNvdXJjZUlkID0gdXNlRGF0YVNvdXJjZXNbMF0uZGF0YVNvdXJjZUlkXG4gICAgXG4gICAgZGVidWdMb2coJ0RhdGFTb3VyY2UgSUQgY2hlY2s6Jywge1xuICAgICAgbmV3SWQ6IG5ld0RhdGFTb3VyY2VJZCxcbiAgICAgIGN1cnJlbnRJZDogY3VycmVudERhdGFTb3VyY2VJZCxcbiAgICAgIGNoYW5nZWQ6IGN1cnJlbnREYXRhU291cmNlSWQgIT09IG51bGwgJiYgbmV3RGF0YVNvdXJjZUlkICE9PSBjdXJyZW50RGF0YVNvdXJjZUlkXG4gICAgfSlcbiAgICBcbiAgICAvLyBJZiBkYXRhIHNvdXJjZSBJRCBjaGFuZ2VkLCBjbGVhciBsYWJlbHMgYW5kIHJlc2V0IHRyYWNraW5nXG4gICAgaWYgKGN1cnJlbnREYXRhU291cmNlSWQgIT09IG51bGwgJiYgbmV3RGF0YVNvdXJjZUlkICE9PSBjdXJyZW50RGF0YVNvdXJjZUlkKSB7XG4gICAgICBkZWJ1Z0xvZygnRGF0YVNvdXJjZSBJRCBjaGFuZ2VkLCBjbGVhcmluZyBsYWJlbHMgYW5kIHJlc2V0dGluZyB0cmFja2luZycpXG4gICAgICBkYXRhU291cmNlUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICBjbGVhckxhYmVsc0Zyb21Db250YWluZXIobWFwQ29udGFpbmVyKVxuICAgICAgc2V0UGFya2luZ0xvdExhYmVscyhbXSlcbiAgICAgIGxhYmVsc0NyZWF0ZWRGb3JEYXRhU291cmNlUmVmLmN1cnJlbnQgPSBudWxsIC8vIFJlc2V0IHRyYWNraW5nXG4gICAgICBpc0NyZWF0aW5nTGFiZWxzUmVmLmN1cnJlbnQgPSBmYWxzZSAvLyBSZXNldCBjcmVhdGluZyBmbGFnXG4gICAgICBpc1JlZnJlc2hJbkZsaWdodFJlZi5jdXJyZW50ID0gZmFsc2VcbiAgICAgIGxhc3RIYW5kbGVkU291cmNlVmVyc2lvblJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgc2V0U2hvdWxkVXBkYXRlTGFiZWxzKHRydWUpXG4gICAgfVxuICAgIFxuICAgIC8vIEFsd2F5cyBzZXQgdGhlIGN1cnJlbnQgSUQgKGV2ZW4gb24gaW5pdGlhbCBsb2FkKVxuICAgIGlmIChjdXJyZW50RGF0YVNvdXJjZUlkICE9PSBuZXdEYXRhU291cmNlSWQpIHtcbiAgICAgIGRlYnVnTG9nKCdTZXR0aW5nIGN1cnJlbnREYXRhU291cmNlSWQgdG86JywgbmV3RGF0YVNvdXJjZUlkKVxuICAgICAgc2V0Q3VycmVudERhdGFTb3VyY2VJZChuZXdEYXRhU291cmNlSWQpXG4gICAgfVxuICB9LCBbdXNlRGF0YVNvdXJjZXMsIGN1cnJlbnREYXRhU291cmNlSWQsIGNsZWFyTGFiZWxzRnJvbUNvbnRhaW5lciwgbWFwQ29udGFpbmVyXSlcbiAgXG4gIGNvbnN0IHJlcXVlc3RTYWZlTGFiZWxSZWZyZXNoID0gUmVhY3QudXNlQ2FsbGJhY2soKG9wdGlvbnM/OiB7IHJlYXNvbj86IHN0cmluZyB9KSA9PiB7XG4gICAgY29uc3QgcmVhc29uID0gb3B0aW9ucz8ucmVhc29uIHx8ICd1bnNwZWNpZmllZCdcbiAgICBzZXRTaG91bGRVcGRhdGVMYWJlbHModHJ1ZSlcbiAgICBkZWJ1Z0xvZygnUmVmcmVzaCByZXF1ZXN0IGFjY2VwdGVkJywgeyByZWFzb24gfSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9LCBbXSlcblxuICBjb25zdCB1cGRhdGVFeGlzdGluZ0xhYmVsc0Zyb21SZWNvcmRzV2l0aG91dEdlb21ldHJ5ID0gUmVhY3QudXNlQ2FsbGJhY2soKHJlY29yZHM6IGFueVtdKSA9PiB7XG4gICAgaWYgKCFtYXBDb250YWluZXIpIHJldHVyblxuICAgIGNvbnN0IGV4aXN0aW5nTGFiZWxzID0gbWFwQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYXJraW5nLWxvdC1tYXAtbGFiZWwnKVxuICAgIGlmIChleGlzdGluZ0xhYmVscy5sZW5ndGggPT09IDApIHJldHVyblxuXG4gICAgY29uc3QgZXhpc3RpbmdMYWJlbHNNYXAgPSBuZXcgTWFwPHN0cmluZywgSFRNTEVsZW1lbnQ+KClcbiAgICBleGlzdGluZ0xhYmVscy5mb3JFYWNoKChlbDogRWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgbG90SWQgPSAoZWwgYXMgSFRNTEVsZW1lbnQpLmdldEF0dHJpYnV0ZSgnZGF0YS1wYXJraW5nLWxvdC1pZCcpXG4gICAgICBpZiAobG90SWQpIHtcbiAgICAgICAgZXhpc3RpbmdMYWJlbHNNYXAuc2V0KGxvdElkLCBlbCBhcyBIVE1MRWxlbWVudClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgZm9yIChjb25zdCByZWNvcmQgb2YgcmVjb3Jkcykge1xuICAgICAgY29uc3QgZGF0YSA9IGdldERhdGFGcm9tUmVjb3JkKHJlY29yZClcbiAgICAgIGlmICghZGF0YSkgY29udGludWVcblxuICAgICAgY29uc3QgcGFya2luZ0xvdE5hbWUgPSBkYXRhPy5bY29uZmlnLnBhcmtpbmdMb3RGaWVsZF1cbiAgICAgIGNvbnN0IHV0aWxpemF0aW9uUGVyY2VudGFnZSA9IGRhdGE/Lltjb25maWcudXRpbGl6YXRpb25GaWVsZF1cbiAgICAgIGlmICghcGFya2luZ0xvdE5hbWUpIGNvbnRpbnVlXG5cbiAgICAgIGNvbnN0IGxvdElkID0gU3RyaW5nKHBhcmtpbmdMb3ROYW1lKVxuICAgICAgY29uc3QgbGFiZWxFbGVtZW50ID0gZXhpc3RpbmdMYWJlbHNNYXAuZ2V0KGxvdElkKVxuICAgICAgaWYgKCFsYWJlbEVsZW1lbnQpIGNvbnRpbnVlXG5cbiAgICAgIGNvbnN0IHV0aWxpemF0aW9uUmF3ID0gTnVtYmVyKHV0aWxpemF0aW9uUGVyY2VudGFnZSlcbiAgICAgIGNvbnN0IHV0aWxpemF0aW9uVmFsdWUgPSBOdW1iZXIuaXNGaW5pdGUodXRpbGl6YXRpb25SYXcpID8gdXRpbGl6YXRpb25SYXcgOiAwXG4gICAgICBjb25zdCBhdmFpbGFibGVDb2xvciA9IGNvbmZpZy5hdmFpbGFibGVDb2xvciB8fCAnI0U2ODNERCdcbiAgICAgIGNvbnN0IHVuYXZhaWxhYmxlQ29sb3IgPSBjb25maWcudW5hdmFpbGFibGVDb2xvciB8fCAnIzhCOEI4QidcbiAgICAgIGNvbnN0IHRocmVzaG9sZCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgY29uZmlnLmZ1bGxUaHJlc2hvbGQgPz8gOTUpKVxuICAgICAgbGV0IGZyZWVQZXJjZW50YWdlID0gMTAwIC0gdXRpbGl6YXRpb25WYWx1ZVxuICAgICAgaWYgKCFjb25maWcuYWxsb3dOZWdhdGl2ZXMgJiYgZnJlZVBlcmNlbnRhZ2UgPCAwKSB7XG4gICAgICAgIGZyZWVQZXJjZW50YWdlID0gMFxuICAgICAgfVxuICAgICAgY29uc3QgYXZhaWxhYmlsaXR5QW5ub3VuY2VtZW50ID1cbiAgICAgICAgdXRpbGl6YXRpb25WYWx1ZSA+PSB0aHJlc2hvbGQgfHwgZnJlZVBlcmNlbnRhZ2UgPD0gTWF0aC5tYXgoMCwgMTAwIC0gdGhyZXNob2xkKVxuICAgICAgICAgID8gJ0Z1bGwnXG4gICAgICAgICAgOiBgJHtNYXRoLnJvdW5kKE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgZnJlZVBlcmNlbnRhZ2UpKSl9JSBBdmFpbGFibGVgXG4gICAgICBjb25zdCB1dGlsaXphdGlvblRleHQgPSBjb25maWcuc2hvd1V0aWxpemF0aW9uVGV4dCA/IGF2YWlsYWJpbGl0eUFubm91bmNlbWVudCA6ICcnXG4gICAgICBsZXQgYXZhaWxhYmlsaXR5ID0gMTAwIC0gdXRpbGl6YXRpb25WYWx1ZVxuICAgICAgaWYgKCFjb25maWcuYWxsb3dOZWdhdGl2ZXMgJiYgYXZhaWxhYmlsaXR5IDwgMCkge1xuICAgICAgICBhdmFpbGFiaWxpdHkgPSAwXG4gICAgICB9XG4gICAgICBjb25zdCBhdmFpbGFiaWxpdHlQZXJjZW50YWdlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCBhdmFpbGFiaWxpdHkpKVxuXG4gICAgICBsYWJlbEVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYCR7cGFya2luZ0xvdE5hbWV9OiAke2F2YWlsYWJpbGl0eUFubm91bmNlbWVudH1gKVxuXG4gICAgICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20obGFiZWxFbGVtZW50LmNoaWxkcmVuKVxuICAgICAgY29uc3QgZXhpc3RpbmdHYXVnZVdyYXBwZXIgPSBjaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZFxuICAgICAgY29uc3QgZXhpc3RpbmdUZXh0Q29udGFpbmVyID0gY2hpbGRyZW5bMV0gYXMgSFRNTEVsZW1lbnQgfCB1bmRlZmluZWRcblxuICAgICAgaWYgKGV4aXN0aW5nR2F1Z2VXcmFwcGVyKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nU3ZnID0gZXhpc3RpbmdHYXVnZVdyYXBwZXIucXVlcnlTZWxlY3Rvcignc3ZnJylcbiAgICAgICAgaWYgKGV4aXN0aW5nU3ZnKSB7XG4gICAgICAgICAgY29uc3QgY2xhbXBlZEF2YWlsYWJpbGl0eSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgYXZhaWxhYmlsaXR5UGVyY2VudGFnZSkpXG4gICAgICAgICAgY29uc3QgZmlsbFBlcmNlbnRhZ2UgPSBjbGFtcGVkQXZhaWxhYmlsaXR5XG4gICAgICAgICAgY29uc3Qgc3dlZXBBbmdsZSA9IC1NYXRoLm1pbigoZmlsbFBlcmNlbnRhZ2UgLyAxMDApICogMzYwLCAzNTkuOTk5KVxuICAgICAgICAgIGNvbnN0IHN2Z0NoaWxkcmVuID0gQXJyYXkuZnJvbShleGlzdGluZ1N2Zy5jaGlsZHJlbilcbiAgICAgICAgICBjb25zdCBiYXNlRmlsbCA9IHN2Z0NoaWxkcmVuWzBdIGFzIFNWR0VsZW1lbnRcbiAgICAgICAgICBpZiAoYmFzZUZpbGwgJiYgYmFzZUZpbGwudGFnTmFtZSA9PT0gJ2NpcmNsZScpIHtcbiAgICAgICAgICAgIGJhc2VGaWxsLnNldEF0dHJpYnV0ZSgnZmlsbCcsIHVuYXZhaWxhYmxlQ29sb3IpXG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAobGV0IGkgPSBzdmdDaGlsZHJlbi5sZW5ndGggLSAyOyBpID49IDE7IGktLSkge1xuICAgICAgICAgICAgZXhpc3RpbmdTdmcucmVtb3ZlQ2hpbGQoc3ZnQ2hpbGRyZW5baV0pXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChmaWxsUGVyY2VudGFnZSA+IDApIHtcbiAgICAgICAgICAgIGlmIChmaWxsUGVyY2VudGFnZSA+PSA5OS41KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGZ1bGxDaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05TLCAnY2lyY2xlJylcbiAgICAgICAgICAgICAgZnVsbENpcmNsZS5zZXRBdHRyaWJ1dGUoJ2N4JywgR0FVR0VfQ0VOVEVSLnRvRml4ZWQoMikpXG4gICAgICAgICAgICAgIGZ1bGxDaXJjbGUuc2V0QXR0cmlidXRlKCdjeScsIEdBVUdFX0NFTlRFUi50b0ZpeGVkKDIpKVxuICAgICAgICAgICAgICBmdWxsQ2lyY2xlLnNldEF0dHJpYnV0ZSgncicsIChHQVVHRV9SQURJVVMgLSAzKS50b0ZpeGVkKDIpKVxuICAgICAgICAgICAgICBmdWxsQ2lyY2xlLnNldEF0dHJpYnV0ZSgnZmlsbCcsIGF2YWlsYWJsZUNvbG9yKVxuICAgICAgICAgICAgICBmdWxsQ2lyY2xlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ25vbmUnKVxuICAgICAgICAgICAgICBleGlzdGluZ1N2Zy5pbnNlcnRCZWZvcmUoZnVsbENpcmNsZSwgZXhpc3RpbmdTdmcubGFzdENoaWxkKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3Qgc2VjdG9yUGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTlMsICdwYXRoJylcbiAgICAgICAgICAgICAgc2VjdG9yUGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLCBkZXNjcmliZVNlY3RvcihHQVVHRV9DRU5URVIsIEdBVUdFX0NFTlRFUiwgR0FVR0VfUkFESVVTIC0gMywgLTkwLCBzd2VlcEFuZ2xlKSlcbiAgICAgICAgICAgICAgc2VjdG9yUGF0aC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBhdmFpbGFibGVDb2xvcilcbiAgICAgICAgICAgICAgc2VjdG9yUGF0aC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdub25lJylcbiAgICAgICAgICAgICAgZXhpc3RpbmdTdmcuaW5zZXJ0QmVmb3JlKHNlY3RvclBhdGgsIGV4aXN0aW5nU3ZnLmxhc3RDaGlsZClcblxuICAgICAgICAgICAgICBjb25zdCBzZWN0b3JPdXRsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgJ3BhdGgnKVxuICAgICAgICAgICAgICBzZWN0b3JPdXRsaW5lLnNldEF0dHJpYnV0ZSgnZCcsIGRlc2NyaWJlQXJjKEdBVUdFX0NFTlRFUiwgR0FVR0VfQ0VOVEVSLCBHQVVHRV9SQURJVVMgLSAzLCAtOTAsIHN3ZWVwQW5nbGUpKVxuICAgICAgICAgICAgICBzZWN0b3JPdXRsaW5lLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdub25lJylcbiAgICAgICAgICAgICAgc2VjdG9yT3V0bGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsIGF2YWlsYWJsZUNvbG9yKVxuICAgICAgICAgICAgICBzZWN0b3JPdXRsaW5lLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMuNScpXG4gICAgICAgICAgICAgIGV4aXN0aW5nU3ZnLmluc2VydEJlZm9yZShzZWN0b3JPdXRsaW5lLCBleGlzdGluZ1N2Zy5sYXN0Q2hpbGQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChleGlzdGluZ1RleHRDb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgdGV4dENoaWxkcmVuID0gQXJyYXkuZnJvbShleGlzdGluZ1RleHRDb250YWluZXIuY2hpbGRyZW4pXG4gICAgICAgIGxldCB1dGlsRWxlbWVudEluZGV4ID0gY29uZmlnLnNob3dVdGlsaXphdGlvblRleHQgPyAwIDogLTFcbiAgICAgICAgbGV0IG5hbWVFbGVtZW50SW5kZXggPSBjb25maWcuc2hvd1V0aWxpemF0aW9uVGV4dCA/IDEgOiAwXG4gICAgICAgIGlmIChjb25maWcuc2hvd1V0aWxpemF0aW9uVGV4dCAmJiB1dGlsRWxlbWVudEluZGV4ID49IDAgJiYgdGV4dENoaWxkcmVuW3V0aWxFbGVtZW50SW5kZXhdKSB7XG4gICAgICAgICAgY29uc3QgdXRpbEVsZW1lbnQgPSB0ZXh0Q2hpbGRyZW5bdXRpbEVsZW1lbnRJbmRleF0gYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgICBpZiAodXRpbEVsZW1lbnQudGV4dENvbnRlbnQgIT09IHV0aWxpemF0aW9uVGV4dCkge1xuICAgICAgICAgICAgdXRpbEVsZW1lbnQudGV4dENvbnRlbnQgPSB1dGlsaXphdGlvblRleHRcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRleHRDaGlsZHJlbltuYW1lRWxlbWVudEluZGV4XSkge1xuICAgICAgICAgIGNvbnN0IG5hbWVFbGVtZW50ID0gdGV4dENoaWxkcmVuW25hbWVFbGVtZW50SW5kZXhdIGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgaWYgKG5hbWVFbGVtZW50LnRleHRDb250ZW50ICE9PSBwYXJraW5nTG90TmFtZSkge1xuICAgICAgICAgICAgbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBwYXJraW5nTG90TmFtZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW21hcENvbnRhaW5lciwgZ2V0RGF0YUZyb21SZWNvcmQsIGNvbmZpZy5wYXJraW5nTG90RmllbGQsIGNvbmZpZy51dGlsaXphdGlvbkZpZWxkLCBjb25maWcuYXZhaWxhYmxlQ29sb3IsIGNvbmZpZy51bmF2YWlsYWJsZUNvbG9yLCBjb25maWcuYWxsb3dOZWdhdGl2ZXMsIGNvbmZpZy5zaG93VXRpbGl6YXRpb25UZXh0LCBjb25maWcuZnVsbFRocmVzaG9sZF0pXG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXNob3VsZFVwZGF0ZUxhYmVscykge1xuICAgICAgZGVidWdMb2coJ1JlZnJlc2ggZWZmZWN0IHNraXBwZWQ6IHNob3VsZFVwZGF0ZUxhYmVscyBpcyBmYWxzZScpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKCFqaW11TWFwVmlldz8udmlldz8ucmVhZHkpIHtcbiAgICAgIGRlYnVnTG9nKCdSZWZyZXNoIGVmZmVjdCBza2lwcGVkOiBtYXAgdmlldyBub3QgcmVhZHknLCB7IGhhc0ppbXVNYXBWaWV3OiAhIWppbXVNYXBWaWV3LCB2aWV3UmVhZHk6IGppbXVNYXBWaWV3Py52aWV3Py5yZWFkeSB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICghY3VycmVudERhdGFTb3VyY2VJZCkge1xuICAgICAgZGVidWdMb2coJ1JlZnJlc2ggZWZmZWN0IHNraXBwZWQ6IG1pc3NpbmcgY3VycmVudERhdGFTb3VyY2VJZCcpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKCFtYXBDb250YWluZXIpIHtcbiAgICAgIGRlYnVnTG9nKCdSZWZyZXNoIGVmZmVjdCBza2lwcGVkOiBtaXNzaW5nIG1hcENvbnRhaW5lcicpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBkcyA9IGRhdGFTb3VyY2VSZWYuY3VycmVudFxuICAgIGNvbnN0IGRzSWQgPSB1c2VEYXRhU291cmNlcz8uWzBdPy5kYXRhU291cmNlSWRcbiAgICBpZiAoIWRzIHx8ICFkc0lkIHx8IGN1cnJlbnREYXRhU291cmNlSWQgIT09IGRzSWQpIHtcbiAgICAgIGRlYnVnTG9nKCdSZWZyZXNoIGVmZmVjdCBza2lwcGVkOiBkYXRhc291cmNlIG1pc21hdGNoL21pc3NpbmcnLCB7XG4gICAgICAgIGhhc0RzOiAhIWRzLFxuICAgICAgICBkc0lkLFxuICAgICAgICBjdXJyZW50RGF0YVNvdXJjZUlkXG4gICAgICB9KVxuICAgICAgLy8gUmVzZXQgdGhlIG9uZS1zaG90IGZsYWc7IEV4QiBsaWZlY3ljbGUgY2FsbGJhY2tzIHdpbGwgcmVxdWVzdCByZWZyZXNoIGFnYWluIHdoZW4gZGF0YSBpcyByZWFkeS5cbiAgICAgIHNldFNob3VsZFVwZGF0ZUxhYmVscyhmYWxzZSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBkc1N0YXR1cyA9IGRzLmdldFN0YXR1cz8uKClcbiAgICBpZiAoZHNTdGF0dXMgIT09ICdMT0FERUQnKSB7XG4gICAgICBkZWJ1Z0xvZygnRGF0YXNvdXJjZSBub3QgbG9hZGVkIHlldCwgd2FpdGluZyBmb3IgRXhCIGxvYWQgbGlmZWN5Y2xlJywgeyBkc0lkLCBkc1N0YXR1cyB9KVxuICAgICAgLy8gUmVzZXQgdGhlIG9uZS1zaG90IGZsYWc7IEV4QiBsaWZlY3ljbGUgY2FsbGJhY2tzIHdpbGwgcmVxdWVzdCByZWZyZXNoIGFnYWluIHdoZW4gZGF0YSBpcyByZWFkeS5cbiAgICAgIHNldFNob3VsZFVwZGF0ZUxhYmVscyhmYWxzZSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChpc0NyZWF0aW5nTGFiZWxzUmVmLmN1cnJlbnQgfHwgaXNSZWZyZXNoSW5GbGlnaHRSZWYuY3VycmVudCkge1xuICAgICAgZGVidWdMb2coJ1JlZnJlc2ggZWZmZWN0IHNraXBwZWQ6IGNyZWF0aW9uL3JlZnJlc2ggYWxyZWFkeSBpbiBmbGlnaHQnLCB7XG4gICAgICAgIGlzQ3JlYXRpbmc6IGlzQ3JlYXRpbmdMYWJlbHNSZWYuY3VycmVudCxcbiAgICAgICAgaXNSZWZyZXNoaW5nOiBpc1JlZnJlc2hJbkZsaWdodFJlZi5jdXJyZW50XG4gICAgICB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGRlYnVnTG9nKCdBbGwgZ3VhcmRzIHBhc3NlZCwgcHJvY2VlZGluZyB0byBsb2FkRmVhdHVyZXMnLCB7IGRzSWQgfSlcblxuICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZVxuICAgIGlzQ3JlYXRpbmdMYWJlbHNSZWYuY3VycmVudCA9IHRydWVcbiAgICBpc1JlZnJlc2hJbkZsaWdodFJlZi5jdXJyZW50ID0gdHJ1ZVxuXG4gICAgOyhhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBsb2FkRmVhdHVyZXMgPSBhc3luYyAoKTogUHJvbWlzZTxhbnlbXT4gPT4ge1xuICAgICAgICAgIGNvbnN0IHJlY29yZHMgPSAoZHMgYXMgYW55KT8uZ2V0UmVjb3Jkcz8uKCkgfHwgW11cbiAgICAgICAgICBjb25zdCBib3VuZGVkUmVjb3JkcyA9IHJlY29yZHMuc2xpY2UoMCwgTUFYX1JFTkRFUkFCTEVfUkVDT1JEUylcbiAgICAgICAgICBjb25zdCBkaXJlY3RGZWF0dXJlcyA9IGJvdW5kZWRSZWNvcmRzXG4gICAgICAgICAgICAubWFwKChyZWNvcmQ6IGFueSkgPT4gZ2V0RmVhdHVyZUZyb21SZWNvcmQocmVjb3JkKSlcbiAgICAgICAgICAgIC5maWx0ZXIoKGY6IGFueSkgPT4gZilcbiAgICAgICAgICBjb25zdCB3aXRoR2VvbWV0cnkgPSBkaXJlY3RGZWF0dXJlcy5maWx0ZXIoKGY6IGFueSkgPT4gZj8uZ2VvbWV0cnkpXG4gICAgICAgICAgZGVidWdMb2coJ0RhdGEgZmxvdzogcmVjb3JkcyBmcm9tIGRhdGFzb3VyY2UnLCB7XG4gICAgICAgICAgICBkc0lkLFxuICAgICAgICAgICAgcmVjb3Jkc0NvdW50OiByZWNvcmRzLmxlbmd0aCxcbiAgICAgICAgICAgIGZlYXR1cmVzRXh0cmFjdGVkOiBkaXJlY3RGZWF0dXJlcy5sZW5ndGgsXG4gICAgICAgICAgICB3aXRoR2VvbWV0cnk6IHdpdGhHZW9tZXRyeS5sZW5ndGgsXG4gICAgICAgICAgICBwYXJraW5nTG90RmllbGQ6IGNvbmZpZy5wYXJraW5nTG90RmllbGQsXG4gICAgICAgICAgICB1dGlsaXphdGlvbkZpZWxkOiBjb25maWcudXRpbGl6YXRpb25GaWVsZFxuICAgICAgICAgIH0pXG4gICAgICAgICAgaWYgKHJlY29yZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZmlyc3QgPSByZWNvcmRzWzBdXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdHlwZW9mIGZpcnN0Py5nZXREYXRhID09PSAnZnVuY3Rpb24nID8gZmlyc3QuZ2V0RGF0YSgpIDogKGZpcnN0Py5hdHRyaWJ1dGVzIHx8IGZpcnN0Py5mZWF0dXJlPy5hdHRyaWJ1dGVzKVxuICAgICAgICAgICAgZGVidWdMb2coJ0ZpcnN0IHJlY29yZCBzYW1wbGUnLCB7XG4gICAgICAgICAgICAgIGhhc0dldERhdGE6IHR5cGVvZiBmaXJzdD8uZ2V0RGF0YSA9PT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgICAgaGFzR2V0SlNBUElHZW9tZXRyeTogdHlwZW9mIGZpcnN0Py5nZXRKU0FQSUdlb21ldHJ5ID09PSAnZnVuY3Rpb24nLFxuICAgICAgICAgICAgICBkYXRhS2V5czogZGF0YSA/IE9iamVjdC5rZXlzKGRhdGEpIDogW10sXG4gICAgICAgICAgICAgIFtjb25maWcucGFya2luZ0xvdEZpZWxkXTogZGF0YT8uW2NvbmZpZy5wYXJraW5nTG90RmllbGRdLFxuICAgICAgICAgICAgICBbY29uZmlnLnV0aWxpemF0aW9uRmllbGRdOiBkYXRhPy5bY29uZmlnLnV0aWxpemF0aW9uRmllbGRdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gd2l0aEdlb21ldHJ5XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmZWF0dXJlcyA9IGF3YWl0IGxvYWRGZWF0dXJlcygpXG4gICAgICAgIGRlYnVnTG9nKCdSZXNvbHZlZCBmZWF0dXJlcyBmb3IgcmVuZGVyaW5nJywgeyBkc0lkLCBmZWF0dXJlc0NvdW50OiBmZWF0dXJlcy5sZW5ndGggfSlcblxuICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgICAgZGVidWdMb2coJ1JlZnJlc2ggZWZmZWN0IGNhbmNlbGxlZCBiZWZvcmUgcmVuZGVyJywgeyBkc0lkIH0pXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmVhdHVyZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgY29uc3QgYm91bmRlZFJlY29yZHMgPSAoKGRzIGFzIGFueSk/LmdldFJlY29yZHM/LigpIHx8IFtdKS5zbGljZSgwLCBNQVhfUkVOREVSQUJMRV9SRUNPUkRTKVxuICAgICAgICAgIGNvbnN0IGhhc0FueVJlY29yZHMgPSBib3VuZGVkUmVjb3Jkcy5sZW5ndGggPiAwXG4gICAgICAgICAgaWYgKGhhc0FueVJlY29yZHMpIHtcbiAgICAgICAgICAgIC8vIE5vIGdlb21ldHJ5IGF2YWlsYWJsZSBpbiBkYXRhc291cmNlIHJlY29yZHM6IGRvIG5vdCBxdWVyeSB0aGUgc2VydmVyLlxuICAgICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIGxhYmVscycgdmFsdWVzIG9ubHksIGtlZXAgcG9zaXRpb25zIHVuY2hhbmdlZC5cbiAgICAgICAgICAgIHVwZGF0ZUV4aXN0aW5nTGFiZWxzRnJvbVJlY29yZHNXaXRob3V0R2VvbWV0cnkoYm91bmRlZFJlY29yZHMpXG4gICAgICAgICAgICBkZWJ1Z0xvZygnTm8gZ2VvbWV0cnkgaW4gZGF0YXNvdXJjZSByZWNvcmRzLCB1cGRhdGVkIGV4aXN0aW5nIGxhYmVscyBvbmx5Jywge1xuICAgICAgICAgICAgICBkc0lkLFxuICAgICAgICAgICAgICByZWNvcmRDb3VudDogYm91bmRlZFJlY29yZHMubGVuZ3RoXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWJ1Z0xvZygnTm8gZmVhdHVyZXMgYXZhaWxhYmxlIGZvciBsYWJlbCByZW5kZXJpbmcnLCB7IGRzSWQgfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0U2hvdWxkVXBkYXRlTGFiZWxzKGZhbHNlKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGFiZWxzSW5ET00gPSBtYXBDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnBhcmtpbmctbG90LW1hcC1sYWJlbCcpLmxlbmd0aFxuICAgICAgICBjb25zdCBoYXNOb0xhYmVscyA9IGxhYmVsc0luRE9NID09PSAwXG5cbiAgICAgICAgaWYgKGhhc05vTGFiZWxzKSB7XG4gICAgICAgICAgZGVidWdMb2coJ0NyZWF0aW5nIGN1c3RvbSBsYWJlbHMnLCB7IGRzSWQsIGZlYXR1cmVzQ291bnQ6IGZlYXR1cmVzLmxlbmd0aCB9KVxuICAgICAgICAgIGF3YWl0IGNyZWF0ZUN1c3RvbUxhYmVscyhmZWF0dXJlcylcbiAgICAgICAgICBjb25zdCBjcmVhdGVkTGFiZWxzID0gbWFwQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYXJraW5nLWxvdC1tYXAtbGFiZWwnKS5sZW5ndGhcbiAgICAgICAgICBkZWJ1Z0xvZygnQWZ0ZXIgY3JlYXRlQ3VzdG9tTGFiZWxzJywgeyBkc0lkLCBjcmVhdGVkTGFiZWxzIH0pXG4gICAgICAgICAgaWYgKGNyZWF0ZWRMYWJlbHMgPiAwKSB7XG4gICAgICAgICAgICBsYWJlbHNDcmVhdGVkRm9yRGF0YVNvdXJjZVJlZi5jdXJyZW50ID0gZHNJZFxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWJ1Z0xvZygnVXBkYXRpbmcgZXhpc3RpbmcgbGFiZWxzJywgeyBkc0lkLCBmZWF0dXJlc0NvdW50OiBmZWF0dXJlcy5sZW5ndGggfSlcbiAgICAgICAgICBhd2FpdCB1cGRhdGVFeGlzdGluZ0xhYmVscyhmZWF0dXJlcylcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFNob3VsZFVwZGF0ZUxhYmVscyhmYWxzZSlcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIEZhaWwgY2xvc2VkOiByZXNldCB1cGRhdGUgZmxhZyBhbmQgYWxsb3cgZnV0dXJlIHVwZGF0ZXNcbiAgICAgICAgZGVidWdMb2coJ1JlZnJlc2ggZWZmZWN0IGZhaWxlZCcsIHsgZXJyb3IgfSlcbiAgICAgICAgc2V0U2hvdWxkVXBkYXRlTGFiZWxzKGZhbHNlKVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXNDcmVhdGluZ0xhYmVsc1JlZi5jdXJyZW50ID0gZmFsc2VcbiAgICAgICAgaXNSZWZyZXNoSW5GbGlnaHRSZWYuY3VycmVudCA9IGZhbHNlXG4gICAgICB9XG4gICAgfSkoKVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNhbmNlbGxlZCA9IHRydWVcbiAgICB9XG4gIH0sIFtzaG91bGRVcGRhdGVMYWJlbHMsIGppbXVNYXBWaWV3LCBjdXJyZW50RGF0YVNvdXJjZUlkLCB1c2VEYXRhU291cmNlcywgbWFwQ29udGFpbmVyLCBjb25maWcucGFya2luZ0xvdEZpZWxkLCBjb25maWcudXRpbGl6YXRpb25GaWVsZCwgY29uZmlnLnNob3dVdGlsaXphdGlvblRleHQsIGNvbmZpZy5hbGxvd05lZ2F0aXZlcywgY29uZmlnLmZ1bGxUaHJlc2hvbGQsIGNvbmZpZy5hdmFpbGFibGVDb2xvciwgY29uZmlnLnVuYXZhaWxhYmxlQ29sb3IsIGdldEZlYXR1cmVGcm9tUmVjb3JkLCB1cGRhdGVFeGlzdGluZ0xhYmVsc0Zyb21SZWNvcmRzV2l0aG91dEdlb21ldHJ5XSlcblxuICBjb25zdCBnZXRVdGlsaXphdGlvblRleHQgPSAocGVyY2VudGFnZTogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCB0aHJlc2hvbGQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIGNvbmZpZy5mdWxsVGhyZXNob2xkID8/IDk1KSlcbiAgICBsZXQgZnJlZVBlcmNlbnRhZ2UgPSAxMDAgLSBwZXJjZW50YWdlXG5cbiAgICAvLyBIYW5kbGUgbmVnYXRpdmUgdmFsdWVzIGJhc2VkIG9uIHNldHRpbmdcbiAgICBpZiAoIWNvbmZpZy5hbGxvd05lZ2F0aXZlcyAmJiBmcmVlUGVyY2VudGFnZSA8IDApIHtcbiAgICAgIGZyZWVQZXJjZW50YWdlID0gMFxuICAgIH1cblxuICAgIGlmIChwZXJjZW50YWdlID49IHRocmVzaG9sZCB8fCBmcmVlUGVyY2VudGFnZSA8PSBNYXRoLm1heCgwLCAxMDAgLSB0aHJlc2hvbGQpKSB7XG4gICAgICByZXR1cm4gJ0Z1bGwnXG4gICAgfVxuXG4gICAgY29uc3QgY2xhbXBlZEF2YWlsYWJpbGl0eSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgZnJlZVBlcmNlbnRhZ2UpKVxuXG4gICAgcmV0dXJuIGAke01hdGgucm91bmQoY2xhbXBlZEF2YWlsYWJpbGl0eSl9JSBBdmFpbGFibGVgXG4gIH1cblxuICAvLyBDcmVhdGUgbGVnZW5kIGVsZW1lbnRcbiAgY29uc3QgY3JlYXRlQXZhaWxhYmlsaXR5R2F1Z2UgPSAoYXZhaWxhYmlsaXR5UGVyY2VudGFnZTogbnVtYmVyLCBhdmFpbGFibGVDb2xvcjogc3RyaW5nLCB1bmF2YWlsYWJsZUNvbG9yOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjbGFtcGVkQXZhaWxhYmlsaXR5ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCBhdmFpbGFiaWxpdHlQZXJjZW50YWdlKSlcbiAgICBjb25zdCBmaWxsUGVyY2VudGFnZSA9IGNsYW1wZWRBdmFpbGFiaWxpdHkgLy8gU2hvdyBhdmFpbGFiaWxpdHkgY291bnRlcmNsb2Nrd2lzZVxuICAgIGNvbnN0IHN3ZWVwQW5nbGUgPSAtTWF0aC5taW4oKGZpbGxQZXJjZW50YWdlIC8gMTAwKSAqIDM2MCwgMzU5Ljk5OSkgLy8gTmVnYXRpdmUgZm9yIGNvdW50ZXJjbG9ja3dpc2VcbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICB3cmFwcGVyLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICB3aWR0aDogJHtHQVVHRV9TSVpFfXB4O1xuICAgICAgaGVpZ2h0OiAke0dBVUdFX1NJWkV9cHg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgZmxleC1zaHJpbms6IDA7XG4gICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICBgXG4gICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKVxuXG4gICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgJ3N2ZycpIGFzIHVua25vd24gYXMgU1ZHU1ZHRWxlbWVudFxuXG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBgJHtHQVVHRV9TSVpFfWApXG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgYCR7R0FVR0VfU0laRX1gKVxuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCBgMCAwICR7R0FVR0VfVklFV0JPWF9TSVpFfSAke0dBVUdFX1ZJRVdCT1hfU0laRX1gKVxuICAgIHN2Zy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuICAgIHN2Zy5zdHlsZS5mbGV4U2hyaW5rID0gJzAnXG4gICAgc3ZnLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSdcbiAgICBzdmcuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3ByZXNlbnRhdGlvbicpXG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgnZm9jdXNhYmxlJywgJ2ZhbHNlJylcblxuICAgIGNvbnN0IGJhc2VGaWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgJ2NpcmNsZScpXG4gICAgYmFzZUZpbGwuc2V0QXR0cmlidXRlKCdjeCcsIEdBVUdFX0NFTlRFUi50b0ZpeGVkKDIpKVxuICAgIGJhc2VGaWxsLnNldEF0dHJpYnV0ZSgnY3knLCBHQVVHRV9DRU5URVIudG9GaXhlZCgyKSlcbiAgICBiYXNlRmlsbC5zZXRBdHRyaWJ1dGUoJ3InLCBHQVVHRV9SQURJVVMudG9GaXhlZCgyKSlcbiAgICBiYXNlRmlsbC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCB1bmF2YWlsYWJsZUNvbG9yKVxuICAgIGJhc2VGaWxsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ25vbmUnKVxuICAgIHN2Zy5hcHBlbmRDaGlsZChiYXNlRmlsbClcblxuICAgIGlmIChmaWxsUGVyY2VudGFnZSA+IDApIHtcbiAgICAgIGlmIChmaWxsUGVyY2VudGFnZSA+PSA5OS41KSB7XG4gICAgICAgIGNvbnN0IGZ1bGxDaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05TLCAnY2lyY2xlJylcbiAgICAgICAgZnVsbENpcmNsZS5zZXRBdHRyaWJ1dGUoJ2N4JywgR0FVR0VfQ0VOVEVSLnRvRml4ZWQoMikpXG4gICAgICAgIGZ1bGxDaXJjbGUuc2V0QXR0cmlidXRlKCdjeScsIEdBVUdFX0NFTlRFUi50b0ZpeGVkKDIpKVxuICAgICAgICBmdWxsQ2lyY2xlLnNldEF0dHJpYnV0ZSgncicsIChHQVVHRV9SQURJVVMgLSAzKS50b0ZpeGVkKDIpKVxuICAgICAgICBmdWxsQ2lyY2xlLnNldEF0dHJpYnV0ZSgnZmlsbCcsIGF2YWlsYWJsZUNvbG9yKVxuICAgICAgICBmdWxsQ2lyY2xlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ25vbmUnKVxuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQoZnVsbENpcmNsZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNlY3RvclBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05TLCAncGF0aCcpXG4gICAgICAgIHNlY3RvclBhdGguc2V0QXR0cmlidXRlKCdkJywgZGVzY3JpYmVTZWN0b3IoR0FVR0VfQ0VOVEVSLCBHQVVHRV9DRU5URVIsIEdBVUdFX1JBRElVUyAtIDMsIC05MCwgc3dlZXBBbmdsZSkpXG4gICAgICAgIHNlY3RvclBhdGguc2V0QXR0cmlidXRlKCdmaWxsJywgYXZhaWxhYmxlQ29sb3IpXG4gICAgICAgIHNlY3RvclBhdGguc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnbm9uZScpXG5cbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHNlY3RvclBhdGgpXG5cbiAgICAgICAgY29uc3Qgc2VjdG9yT3V0bGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTlMsICdwYXRoJylcbiAgICAgICAgc2VjdG9yT3V0bGluZS5zZXRBdHRyaWJ1dGUoJ2QnLCBkZXNjcmliZUFyYyhHQVVHRV9DRU5URVIsIEdBVUdFX0NFTlRFUiwgR0FVR0VfUkFESVVTIC0gMywgLTkwLCBzd2VlcEFuZ2xlKSlcbiAgICAgICAgc2VjdG9yT3V0bGluZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnbm9uZScpXG4gICAgICAgIHNlY3Rvck91dGxpbmUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCBhdmFpbGFibGVDb2xvcilcbiAgICAgICAgc2VjdG9yT3V0bGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczLjUnKVxuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQoc2VjdG9yT3V0bGluZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBiYXNlT3V0bGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTlMsICdjaXJjbGUnKVxuICAgIGJhc2VPdXRsaW5lLnNldEF0dHJpYnV0ZSgnY3gnLCBHQVVHRV9DRU5URVIudG9GaXhlZCgyKSlcbiAgICBiYXNlT3V0bGluZS5zZXRBdHRyaWJ1dGUoJ2N5JywgR0FVR0VfQ0VOVEVSLnRvRml4ZWQoMikpXG4gICAgYmFzZU91dGxpbmUuc2V0QXR0cmlidXRlKCdyJywgKEdBVUdFX1JBRElVUyAtIDEuNSkudG9GaXhlZCgyKSlcbiAgICBiYXNlT3V0bGluZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnbm9uZScpXG4gICAgYmFzZU91dGxpbmUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnIzMzMzMzMycpXG4gICAgYmFzZU91dGxpbmUuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMycpXG4gICAgc3ZnLmFwcGVuZENoaWxkKGJhc2VPdXRsaW5lKVxuXG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChzdmcpXG5cbiAgICByZXR1cm4gd3JhcHBlclxuICB9XG5cbiAgLy8gQ3JlYXRlIGN1c3RvbSBIVE1MIGxhYmVsc1xuICBjb25zdCBjcmVhdGVDdXN0b21MYWJlbHMgPSBhc3luYyAocmVjb3JkczogX19lc3JpLkdyYXBoaWNbXSkgPT4ge1xuICAgIGRlYnVnTG9nKCdjcmVhdGVDdXN0b21MYWJlbHMgY2FsbGVkJywge1xuICAgICAgaGFzTWFwQ29udGFpbmVyOiAhIW1hcENvbnRhaW5lcixcbiAgICAgIGhhc0ppbXVNYXBWaWV3OiAhIWppbXVNYXBWaWV3LFxuICAgICAgcmVjb3JkQ291bnQ6IHJlY29yZHM/Lmxlbmd0aCB8fCAwXG4gICAgfSlcbiAgICBcbiAgICBpZiAoIW1hcENvbnRhaW5lciB8fCAhamltdU1hcFZpZXcpIHtcbiAgICAgIGRlYnVnTG9nKCdDYW5ub3QgY3JlYXRlIGxhYmVscyAtIG1pc3NpbmcgbWFwQ29udGFpbmVyIG9yIGppbXVNYXBWaWV3Jywge1xuICAgICAgICBtYXBDb250YWluZXI6ICEhbWFwQ29udGFpbmVyLFxuICAgICAgICBqaW11TWFwVmlldzogISFqaW11TWFwVmlld1xuICAgICAgfSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIExvYWQgcmVxdWlyZWQgbW9kdWxlc1xuICAgIGxldCBwcm9qZWN0aW9uID0gbnVsbFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBtb2R1bGVzID0gYXdhaXQgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2VzcmkvZ2VvbWV0cnkvcHJvamVjdGlvbicsICdlc3JpL2dlb21ldHJ5L1BvaW50JywgJ2VzcmkvZ2VvbWV0cnkvU3BhdGlhbFJlZmVyZW5jZSddKVxuICAgICAgcHJvamVjdGlvbiA9IG1vZHVsZXNbMF1cbiAgICAgIGF3YWl0IHByb2plY3Rpb24ubG9hZCgpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIFNpbGVudGx5IGhhbmRsZSBwcm9qZWN0aW9uIGVycm9yc1xuICAgIH1cblxuICAgIC8vIFRyYWNrIHdoaWNoIHBhcmtpbmcgbG90cyB3ZSd2ZSBwcm9jZXNzZWRcbiAgICBjb25zdCBwcm9jZXNzZWRMb3RJZHMgPSBuZXcgU2V0PHN0cmluZz4oKVxuICAgIGNvbnN0IG5ld0xhYmVsczogUGFya2luZ0xvdExhYmVsRW50cnlbXSA9IFtdXG4gICAgY29uc3QgZXhpc3RpbmdMYWJlbHNNYXAgPSBuZXcgTWFwPHN0cmluZywgSFRNTEVsZW1lbnQ+KClcbiAgICBcbiAgICAvLyBCdWlsZCBtYXAgb2YgZXhpc3RpbmcgbGFiZWxzIGJ5IHBhcmtpbmcgbG90IElELlxuICAgIC8vIElNUE9SVEFOVDogT25seSBsb29rIHdpdGhpbiB0aGUgbWFwQ29udGFpbmVyIHRvIGF2b2lkIGZpbmRpbmcgbGFiZWxzIGZyb20gb3RoZXIgaW5zdGFuY2VzLlxuICAgIGNvbnN0IGV4aXN0aW5nTGFiZWxzID0gbWFwQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYXJraW5nLWxvdC1tYXAtbGFiZWwnKVxuICAgIGV4aXN0aW5nTGFiZWxzLmZvckVhY2goKGVsOiBFbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCBsb3RJZCA9IChlbCBhcyBIVE1MRWxlbWVudCkuZ2V0QXR0cmlidXRlKCdkYXRhLXBhcmtpbmctbG90LWlkJylcbiAgICAgIGlmIChsb3RJZCkge1xuICAgICAgICBleGlzdGluZ0xhYmVsc01hcC5zZXQobG90SWQsIGVsIGFzIEhUTUxFbGVtZW50KVxuICAgICAgfVxuICAgIH0pXG4gICAgbGV0IHNraXBwZWRDb3VudCA9IDBcbiAgICBjb25zdCBza2lwcGVkUmVhc29uczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9XG5cbiAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiByZWNvcmRzKSB7XG4gICAgICAvLyBIYW5kbGUgYm90aCBHcmFwaGljcyAoZnJvbSBsYXllci5xdWVyeUZlYXR1cmVzKSBhbmQgRGF0YVJlY29yZHMgKGZyb20gZHMuZ2V0UmVjb3JkcylcbiAgICAgIGxldCBkYXRhOiBQYXJraW5nTG90RGF0YVxuICAgICAgbGV0IGdlb21ldHJ5OiBfX2VzcmkuUG9pbnQgfCBudWxsID0gbnVsbFxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBpdCdzIGEgRGF0YVJlY29yZCAoaGFzIGdldERhdGEgbWV0aG9kKVxuICAgICAgaWYgKHR5cGVvZiAocmVjb3JkIGFzIGFueSkuZ2V0RGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBEYXRhUmVjb3JkIC0gdXNlIGdldERhdGEoKSBmb3IgYXR0cmlidXRlc1xuICAgICAgICBkYXRhID0gKHJlY29yZCBhcyBhbnkpLmdldERhdGEoKSBhcyBQYXJraW5nTG90RGF0YVxuICAgICAgICAvLyBUcnkgdG8gZ2V0IGdlb21ldHJ5IC0gRmVhdHVyZURhdGFSZWNvcmQgaGFzIGdldEpTQVBJR2VvbWV0cnkoKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICh0eXBlb2YgKHJlY29yZCBhcyBhbnkpLmdldEpTQVBJR2VvbWV0cnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIEZlYXR1cmVEYXRhUmVjb3JkIC0gcmV0dXJucyBBcmNHSVMgSlMgQVBJIGdlb21ldHJ5IGRpcmVjdGx5XG4gICAgICAgICAgICBnZW9tZXRyeSA9IChyZWNvcmQgYXMgYW55KS5nZXRKU0FQSUdlb21ldHJ5KCkgYXMgX19lc3JpLlBvaW50XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKHJlY29yZCBhcyBhbnkpLmdldEdlb21ldHJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBSZWd1bGFyIERhdGFSZWNvcmQgLSByZXR1cm5zIElHZW9tZXRyeVxuICAgICAgICAgICAgY29uc3QgaUdlb21ldHJ5ID0gKHJlY29yZCBhcyBhbnkpLmdldEdlb21ldHJ5KClcbiAgICAgICAgICAgIGlmIChpR2VvbWV0cnkpIHtcbiAgICAgICAgICAgICAgZ2VvbWV0cnkgPSBpR2VvbWV0cnkgYXMgYW55IGFzIF9fZXNyaS5Qb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZ25vcmUgbWFsZm9ybWVkIGdlb21ldHJ5IG9uIGluZGl2aWR1YWwgcmVjb3Jkcy5cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgocmVjb3JkIGFzIGFueSkuYXR0cmlidXRlcyAmJiAocmVjb3JkIGFzIGFueSkuZ2VvbWV0cnkpIHtcbiAgICAgICAgLy8gR3JhcGhpYyAtIHVzZSBhdHRyaWJ1dGVzIGFuZCBnZW9tZXRyeSBwcm9wZXJ0aWVzIGRpcmVjdGx5XG4gICAgICAgIGRhdGEgPSAocmVjb3JkIGFzIF9fZXNyaS5HcmFwaGljKS5hdHRyaWJ1dGVzIGFzIFBhcmtpbmdMb3REYXRhXG4gICAgICAgIGdlb21ldHJ5ID0gKHJlY29yZCBhcyBfX2VzcmkuR3JhcGhpYykuZ2VvbWV0cnkgYXMgX19lc3JpLlBvaW50XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVbmtub3duIHN0cnVjdHVyZSAtIHRyeSBjb21tb24gZGlyZWN0LWFjY2VzcyBwYXR0ZXJucy5cbiAgICAgICAgZGF0YSA9IChyZWNvcmQgYXMgYW55KS5kYXRhIHx8IChyZWNvcmQgYXMgYW55KS5hdHRyaWJ1dGVzIHx8IChyZWNvcmQgYXMgYW55KSBhcyBQYXJraW5nTG90RGF0YVxuICAgICAgICBnZW9tZXRyeSA9IChyZWNvcmQgYXMgYW55KS5nZW9tZXRyeSB8fCAocmVjb3JkIGFzIGFueSkuZ2VvbSB8fCBudWxsXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHBhcmtpbmdMb3ROYW1lID0gZGF0YT8uW2NvbmZpZy5wYXJraW5nTG90RmllbGRdXG4gICAgICBjb25zdCB1dGlsaXphdGlvblBlcmNlbnRhZ2UgPSBkYXRhPy5bY29uZmlnLnV0aWxpemF0aW9uRmllbGRdXG5cbiAgICAgIGlmICghZ2VvbWV0cnkpIHtcbiAgICAgICAgc2tpcHBlZENvdW50KytcbiAgICAgICAgc2tpcHBlZFJlYXNvbnMubm9HZW9tZXRyeSA9IChza2lwcGVkUmVhc29ucy5ub0dlb21ldHJ5IHx8IDApICsgMVxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIXBhcmtpbmdMb3ROYW1lKSB7XG4gICAgICAgIHNraXBwZWRDb3VudCsrXG4gICAgICAgIHNraXBwZWRSZWFzb25zLm5vTmFtZSA9IChza2lwcGVkUmVhc29ucy5ub05hbWUgfHwgMCkgKyAxXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHV0aWxpemF0aW9uUmF3ID0gTnVtYmVyKHV0aWxpemF0aW9uUGVyY2VudGFnZSlcbiAgICAgIGNvbnN0IHV0aWxpemF0aW9uVmFsdWUgPSBOdW1iZXIuaXNGaW5pdGUodXRpbGl6YXRpb25SYXcpID8gdXRpbGl6YXRpb25SYXcgOiAwXG4gICAgICBjb25zdCBhdmFpbGFibGVDb2xvciA9IGNvbmZpZy5hdmFpbGFibGVDb2xvciB8fCAnI0U2ODNERCdcbiAgICAgIGNvbnN0IHVuYXZhaWxhYmxlQ29sb3IgPSBjb25maWcudW5hdmFpbGFibGVDb2xvciB8fCAnIzhCOEI4QidcbiAgICAgIGNvbnN0IGF2YWlsYWJpbGl0eUFubm91bmNlbWVudCA9IGdldFV0aWxpemF0aW9uVGV4dCh1dGlsaXphdGlvblZhbHVlKVxuICAgICAgY29uc3QgdXRpbGl6YXRpb25UZXh0ID0gY29uZmlnLnNob3dVdGlsaXphdGlvblRleHQgPyBhdmFpbGFiaWxpdHlBbm5vdW5jZW1lbnQgOiAnJ1xuICAgICAgbGV0IGF2YWlsYWJpbGl0eSA9IDEwMCAtIHV0aWxpemF0aW9uVmFsdWVcbiAgICAgIGlmICghY29uZmlnLmFsbG93TmVnYXRpdmVzICYmIGF2YWlsYWJpbGl0eSA8IDApIHtcbiAgICAgICAgYXZhaWxhYmlsaXR5ID0gMFxuICAgICAgfVxuICAgICAgY29uc3QgYXZhaWxhYmlsaXR5UGVyY2VudGFnZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgYXZhaWxhYmlsaXR5KSlcbiAgICAgIGNvbnN0IGxvdElkID0gU3RyaW5nKHBhcmtpbmdMb3ROYW1lKVxuICAgICAgcHJvY2Vzc2VkTG90SWRzLmFkZChsb3RJZClcblxuICAgICAgLy8gUHJvamVjdCBnZW9tZXRyeSBpZiBuZWVkZWRcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG1hcFNSID0gamltdU1hcFZpZXcudmlldy5zcGF0aWFsUmVmZXJlbmNlXG4gICAgICAgIGNvbnN0IGdlb21TUiA9IGdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2VcbiAgICAgICAgXG4gICAgICAgIGlmIChwcm9qZWN0aW9uICYmIGdlb21TUiAmJiBtYXBTUiAmJiBnZW9tU1Iud2tpZCAhPT0gbWFwU1Iud2tpZCkge1xuICAgICAgICAgIGNvbnN0IHByb2plY3RlZEdlb20gPSBwcm9qZWN0aW9uLnByb2plY3QoZ2VvbWV0cnksIG1hcFNSKVxuICAgICAgICAgIGlmIChwcm9qZWN0ZWRHZW9tKSB7XG4gICAgICAgICAgICBnZW9tZXRyeSA9IHByb2plY3RlZEdlb20gYXMgX19lc3JpLlBvaW50XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBTaWxlbnRseSBoYW5kbGUgcHJvamVjdGlvbiBlcnJvcnNcbiAgICAgIH1cblxuICAgICAgLy8gQ29udmVydCBnZW9tZXRyeSB0byBzY3JlZW4gY29vcmRpbmF0ZXNcbiAgICAgIGxldCBzY3JlZW5Qb2ludFxuICAgICAgdHJ5IHtcbiAgICAgICAgc2NyZWVuUG9pbnQgPSBqaW11TWFwVmlldy52aWV3LnRvU2NyZWVuKGdlb21ldHJ5KVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgc2tpcHBlZENvdW50KytcbiAgICAgICAgc2tpcHBlZFJlYXNvbnMuY29vcmRFcnJvciA9IChza2lwcGVkUmVhc29ucy5jb29yZEVycm9yIHx8IDApICsgMVxuICAgICAgICBkZWJ1Z0xvZygnRXJyb3IgY29udmVydGluZyB0byBzY3JlZW4gY29vcmRpbmF0ZXMnLCBlcnJvciwgcGFya2luZ0xvdE5hbWUpXG4gICAgICAgIGNvbnRpbnVlIC8vIFNraXAgdGhpcyBsYWJlbCBpZiB3ZSBjYW4ndCBjb252ZXJ0IGNvb3JkaW5hdGVzXG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGlmIGxhYmVsIGFscmVhZHkgZXhpc3RzXG4gICAgICBsZXQgbGFiZWxFbGVtZW50ID0gZXhpc3RpbmdMYWJlbHNNYXAuZ2V0KGxvdElkKVxuICAgICAgY29uc3QgaXNOZXdMYWJlbCA9ICFsYWJlbEVsZW1lbnRcbiAgICAgIFxuICAgICAgaWYgKGxhYmVsRWxlbWVudCkge1xuICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgbGFiZWwgLSB1cGRhdGUgY29udGVudCBpbiBwbGFjZSB3aXRob3V0IHJlbW92aW5nIGVsZW1lbnRzXG5cbiAgICAgICAgLy8gVXBkYXRlIHBvc2l0aW9uIHNtb290aGx5IChvbmx5IGlmIGNoYW5nZWQpXG4gICAgICAgIGNvbnN0IG5ld0xlZnQgPSBgJHtzY3JlZW5Qb2ludC54IC0gNTB9cHhgXG4gICAgICAgIGNvbnN0IG5ld1RvcCA9IGAke3NjcmVlblBvaW50LnkgLSAzMH1weGBcbiAgICAgICAgaWYgKGxhYmVsRWxlbWVudC5zdHlsZS5sZWZ0ICE9PSBuZXdMZWZ0KSB7XG4gICAgICAgICAgbGFiZWxFbGVtZW50LnN0eWxlLmxlZnQgPSBuZXdMZWZ0XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhYmVsRWxlbWVudC5zdHlsZS50b3AgIT09IG5ld1RvcCkge1xuICAgICAgICAgIGxhYmVsRWxlbWVudC5zdHlsZS50b3AgPSBuZXdUb3BcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIGFyaWEtbGFiZWxcbiAgICAgICAgbGFiZWxFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGAke3BhcmtpbmdMb3ROYW1lfTogJHthdmFpbGFiaWxpdHlBbm5vdW5jZW1lbnR9YClcbiAgICAgICAgXG4gICAgICAgIC8vIEZpbmQgZXhpc3RpbmcgZWxlbWVudHMgLSBzdHJ1Y3R1cmU6IFtnYXVnZVdyYXBwZXIsIHRleHRDb250YWluZXIsIHRhaWxCb3JkZXIsIHRhaWxdXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShsYWJlbEVsZW1lbnQuY2hpbGRyZW4pXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nR2F1Z2VXcmFwcGVyID0gY2hpbGRyZW5bMF0gYXMgSFRNTEVsZW1lbnQgfCB1bmRlZmluZWRcbiAgICAgICAgY29uc3QgZXhpc3RpbmdUZXh0Q29udGFpbmVyID0gY2hpbGRyZW5bMV0gYXMgSFRNTEVsZW1lbnQgfCB1bmRlZmluZWRcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBnYXVnZSBTVkcgaW4gcGxhY2UgLSBkb24ndCByZXBsYWNlLCBqdXN0IHVwZGF0ZSB0aGUgcGF0aHNcbiAgICAgICAgaWYgKGV4aXN0aW5nR2F1Z2VXcmFwcGVyKSB7XG4gICAgICAgICAgY29uc3QgZXhpc3RpbmdTdmcgPSBleGlzdGluZ0dhdWdlV3JhcHBlci5xdWVyeVNlbGVjdG9yKCdzdmcnKVxuICAgICAgICAgIGlmIChleGlzdGluZ1N2Zykge1xuICAgICAgICAgICAgY29uc3QgY2xhbXBlZEF2YWlsYWJpbGl0eSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgYXZhaWxhYmlsaXR5UGVyY2VudGFnZSkpXG4gICAgICAgICAgICBjb25zdCBmaWxsUGVyY2VudGFnZSA9IGNsYW1wZWRBdmFpbGFiaWxpdHkgLy8gU2hvdyBhdmFpbGFiaWxpdHkgY291bnRlcmNsb2Nrd2lzZVxuICAgICAgICAgICAgY29uc3Qgc3dlZXBBbmdsZSA9IC1NYXRoLm1pbigoZmlsbFBlcmNlbnRhZ2UgLyAxMDApICogMzYwLCAzNTkuOTk5KSAvLyBOZWdhdGl2ZSBmb3IgY291bnRlcmNsb2Nrd2lzZVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgYmFzZSBmaWxsIGNvbG9yIChmaXJzdCBjaGlsZClcbiAgICAgICAgICAgIGNvbnN0IHN2Z0NoaWxkcmVuID0gQXJyYXkuZnJvbShleGlzdGluZ1N2Zy5jaGlsZHJlbilcbiAgICAgICAgICAgIGNvbnN0IGJhc2VGaWxsID0gc3ZnQ2hpbGRyZW5bMF0gYXMgU1ZHRWxlbWVudFxuICAgICAgICAgICAgaWYgKGJhc2VGaWxsICYmIGJhc2VGaWxsLnRhZ05hbWUgPT09ICdjaXJjbGUnKSB7XG4gICAgICAgICAgICAgIGJhc2VGaWxsLnNldEF0dHJpYnV0ZSgnZmlsbCcsIHVuYXZhaWxhYmxlQ29sb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgY2hpbGRyZW4gZXhjZXB0IHRoZSBiYXNlIGZpbGwgYW5kIG91dGxpbmVcbiAgICAgICAgICAgIC8vIEtlZXAgYmFzZSBmaWxsIChmaXJzdCBjaGlsZCkgYW5kIGJhc2Ugb3V0bGluZSAobGFzdCBjaGlsZCksIHJlbW92ZSBzZWN0b3IgcGF0aHNcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdmdDaGlsZHJlbi5sZW5ndGggLSAyOyBpID49IDE7IGktLSkge1xuICAgICAgICAgICAgICBleGlzdGluZ1N2Zy5yZW1vdmVDaGlsZChzdmdDaGlsZHJlbltpXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIG5ldyBzZWN0b3IgYmFzZWQgb24gZmlsbCBwZXJjZW50YWdlXG4gICAgICAgICAgICBpZiAoZmlsbFBlcmNlbnRhZ2UgPiAwKSB7XG4gICAgICAgICAgICAgIGlmIChmaWxsUGVyY2VudGFnZSA+PSA5OS41KSB7XG4gICAgICAgICAgICAgICAgLy8gRnVsbCBjaXJjbGVcbiAgICAgICAgICAgICAgICBjb25zdCBmdWxsQ2lyY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgJ2NpcmNsZScpXG4gICAgICAgICAgICAgICAgZnVsbENpcmNsZS5zZXRBdHRyaWJ1dGUoJ2N4JywgR0FVR0VfQ0VOVEVSLnRvRml4ZWQoMikpXG4gICAgICAgICAgICAgICAgZnVsbENpcmNsZS5zZXRBdHRyaWJ1dGUoJ2N5JywgR0FVR0VfQ0VOVEVSLnRvRml4ZWQoMikpXG4gICAgICAgICAgICAgICAgZnVsbENpcmNsZS5zZXRBdHRyaWJ1dGUoJ3InLCAoR0FVR0VfUkFESVVTIC0gMykudG9GaXhlZCgyKSlcbiAgICAgICAgICAgICAgICBmdWxsQ2lyY2xlLnNldEF0dHJpYnV0ZSgnZmlsbCcsIGF2YWlsYWJsZUNvbG9yKVxuICAgICAgICAgICAgICAgIGZ1bGxDaXJjbGUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgLy8gSW5zZXJ0IGJlZm9yZSB0aGUgYmFzZSBvdXRsaW5lIChsYXN0IGNoaWxkKVxuICAgICAgICAgICAgICAgIGV4aXN0aW5nU3ZnLmluc2VydEJlZm9yZShmdWxsQ2lyY2xlLCBleGlzdGluZ1N2Zy5sYXN0Q2hpbGQpXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU2VjdG9yIHBhdGhcbiAgICAgICAgICAgICAgICBjb25zdCBzZWN0b3JQYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgJ3BhdGgnKVxuICAgICAgICAgICAgICAgIHNlY3RvclBhdGguc2V0QXR0cmlidXRlKCdkJywgZGVzY3JpYmVTZWN0b3IoR0FVR0VfQ0VOVEVSLCBHQVVHRV9DRU5URVIsIEdBVUdFX1JBRElVUyAtIDMsIC05MCwgc3dlZXBBbmdsZSkpXG4gICAgICAgICAgICAgICAgc2VjdG9yUGF0aC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBhdmFpbGFibGVDb2xvcilcbiAgICAgICAgICAgICAgICBzZWN0b3JQYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ25vbmUnKVxuICAgICAgICAgICAgICAgIGV4aXN0aW5nU3ZnLmluc2VydEJlZm9yZShzZWN0b3JQYXRoLCBleGlzdGluZ1N2Zy5sYXN0Q2hpbGQpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU2VjdG9yIG91dGxpbmVcbiAgICAgICAgICAgICAgICBjb25zdCBzZWN0b3JPdXRsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgJ3BhdGgnKVxuICAgICAgICAgICAgICAgIHNlY3Rvck91dGxpbmUuc2V0QXR0cmlidXRlKCdkJywgZGVzY3JpYmVBcmMoR0FVR0VfQ0VOVEVSLCBHQVVHRV9DRU5URVIsIEdBVUdFX1JBRElVUyAtIDMsIC05MCwgc3dlZXBBbmdsZSkpXG4gICAgICAgICAgICAgICAgc2VjdG9yT3V0bGluZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnbm9uZScpXG4gICAgICAgICAgICAgICAgc2VjdG9yT3V0bGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsIGF2YWlsYWJsZUNvbG9yKVxuICAgICAgICAgICAgICAgIHNlY3Rvck91dGxpbmUuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMy41JylcbiAgICAgICAgICAgICAgICBleGlzdGluZ1N2Zy5pbnNlcnRCZWZvcmUoc2VjdG9yT3V0bGluZSwgZXhpc3RpbmdTdmcubGFzdENoaWxkKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgdGV4dCBjb250YWluZXIgaWYgaXQgZXhpc3RzIC0ganVzdCB1cGRhdGUgdGV4dCBjb250ZW50XG4gICAgICAgIGlmIChleGlzdGluZ1RleHRDb250YWluZXIpIHtcbiAgICAgICAgICBjb25zdCB0ZXh0Q2hpbGRyZW4gPSBBcnJheS5mcm9tKGV4aXN0aW5nVGV4dENvbnRhaW5lci5jaGlsZHJlbilcbiAgICAgICAgICBsZXQgdXRpbEVsZW1lbnRJbmRleCA9IGNvbmZpZy5zaG93VXRpbGl6YXRpb25UZXh0ID8gMCA6IC0xXG4gICAgICAgICAgbGV0IG5hbWVFbGVtZW50SW5kZXggPSBjb25maWcuc2hvd1V0aWxpemF0aW9uVGV4dCA/IDEgOiAwXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVXBkYXRlIHV0aWxpemF0aW9uIHRleHRcbiAgICAgICAgICBpZiAoY29uZmlnLnNob3dVdGlsaXphdGlvblRleHQgJiYgdXRpbEVsZW1lbnRJbmRleCA+PSAwICYmIHRleHRDaGlsZHJlblt1dGlsRWxlbWVudEluZGV4XSkge1xuICAgICAgICAgICAgY29uc3QgdXRpbEVsZW1lbnQgPSB0ZXh0Q2hpbGRyZW5bdXRpbEVsZW1lbnRJbmRleF0gYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgICAgIGlmICh1dGlsRWxlbWVudC50ZXh0Q29udGVudCAhPT0gdXRpbGl6YXRpb25UZXh0KSB7XG4gICAgICAgICAgICAgIHV0aWxFbGVtZW50LnRleHRDb250ZW50ID0gdXRpbGl6YXRpb25UZXh0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIE5hbWUgc2hvdWxkbid0IGNoYW5nZSwgYnV0IHZlcmlmeVxuICAgICAgICAgIGlmICh0ZXh0Q2hpbGRyZW5bbmFtZUVsZW1lbnRJbmRleF0pIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVFbGVtZW50ID0gdGV4dENoaWxkcmVuW25hbWVFbGVtZW50SW5kZXhdIGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgICBpZiAobmFtZUVsZW1lbnQudGV4dENvbnRlbnQgIT09IHBhcmtpbmdMb3ROYW1lKSB7XG4gICAgICAgICAgICAgIG5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gcGFya2luZ0xvdE5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFNraXAgY3JlYXRpbmcgbmV3IGVsZW1lbnRzIC0gd2UndmUgdXBkYXRlZCBpbiBwbGFjZVxuICAgICAgICAvLyBTdG9yZSBsYWJlbCBpbmZvIGZvciB0cmFja2luZ1xuICAgICAgICBuZXdMYWJlbHMucHVzaCh7XG4gICAgICAgICAgZWxlbWVudDogbGFiZWxFbGVtZW50LFxuICAgICAgICAgIGdlb21ldHJ5OiBnZW9tZXRyeSxcbiAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnRpbnVlIC8vIFNraXAgdGhlIHJlc3Qgb2YgdGhlIGNyZWF0aW9uIGxvZ2ljXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDcmVhdGUgbmV3IGxhYmVsIGVsZW1lbnRcbiAgICAgICAgbGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgbGFiZWxFbGVtZW50LmNsYXNzTmFtZSA9ICdwYXJraW5nLWxvdC1tYXAtbGFiZWwnXG4gICAgICAgIGxhYmVsRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnaW1nJylcbiAgICAgICAgbGFiZWxFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGAke3BhcmtpbmdMb3ROYW1lfTogJHthdmFpbGFiaWxpdHlBbm5vdW5jZW1lbnR9YClcbiAgICAgICAgbGFiZWxFbGVtZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKVxuICAgICAgICBsYWJlbEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXBhcmtpbmctbG90LWlkJywgbG90SWQpXG4gICAgICB9XG5cbiAgICAgIC8vIFNldC91cGRhdGUgc3R5bGVzXG4gICAgICBsYWJlbEVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBsZWZ0OiAke3NjcmVlblBvaW50LnggLSA1MH1weDtcbiAgICAgICAgdG9wOiAke3NjcmVlblBvaW50LnkgLSAzMH1weDtcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICAgIHBhZGRpbmc6IDhweCA4cHg7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsMCwwLDAuMTUpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZDBkMGQwO1xuICAgICAgICBmb250LWZhbWlseTogJ0F2ZW5pciBOZXh0JywgJ0hlbHZldGljYSBOZXVlJywgQXJpYWwsIHNhbnMtc2VyaWY7XG4gICAgICAgIHotaW5kZXg6IDEwMDA7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBnYXA6IDhweDtcbiAgICAgICAgbWluLXdpZHRoOiAxNTBweDtcbiAgICAgIGBcbiAgICAgIFxuICAgICAgLy8gQWRkIHNwZWVjaCBidWJibGUgdGFpbCAobW92ZWQgdG8gbGVmdCBzaWRlKVxuICAgICAgY29uc3QgdGFpbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgdGFpbEVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBib3R0b206IC04cHg7XG4gICAgICAgIGxlZnQ6IDIwcHg7XG4gICAgICAgIHdpZHRoOiAwO1xuICAgICAgICBoZWlnaHQ6IDA7XG4gICAgICAgIGJvcmRlci1sZWZ0OiA4cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICAgIGJvcmRlci1yaWdodDogOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICBib3JkZXItdG9wOiA4cHggc29saWQgd2hpdGU7XG4gICAgICAgIHotaW5kZXg6IDEwMDE7XG4gICAgICBgXG4gICAgICBcbiAgICAgIC8vIEFkZCB0YWlsIGJvcmRlclxuICAgICAgY29uc3QgdGFpbEJvcmRlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgdGFpbEJvcmRlckVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBib3R0b206IC05cHg7XG4gICAgICAgIGxlZnQ6IDIwcHg7XG4gICAgICAgIHdpZHRoOiAwO1xuICAgICAgICBoZWlnaHQ6IDA7XG4gICAgICAgIGJvcmRlci1sZWZ0OiA5cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICAgIGJvcmRlci1yaWdodDogOXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICBib3JkZXItdG9wOiA5cHggc29saWQgI2QwZDBkMDtcbiAgICAgICAgei1pbmRleDogMTAwMDtcbiAgICAgIGBcblxuICAgICAgLy8gQ3JlYXRlIGF2YWlsYWJpbGl0eSBnYXVnZVxuICAgICAgY29uc3QgZ2F1Z2VFbGVtZW50ID0gY3JlYXRlQXZhaWxhYmlsaXR5R2F1Z2UoYXZhaWxhYmlsaXR5UGVyY2VudGFnZSwgYXZhaWxhYmxlQ29sb3IsIHVuYXZhaWxhYmxlQ29sb3IpXG5cbiAgICAgIC8vIENyZWF0ZSB0ZXh0IGNvbnRhaW5lclxuICAgICAgY29uc3QgdGV4dENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICB0ZXh0Q29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGdhcDogMXB4O1xuICAgICAgYFxuXG4gICAgICAvLyBDcmVhdGUgdXRpbGl6YXRpb24gdGV4dCAoZmlyc3QsIHNvIGl0IGFwcGVhcnMgb24gdG9wIC0gZXh0cmEgYm9sZCwgYmxhY2ssIGJpZylcbiAgICAgIGlmIChjb25maWcuc2hvd1V0aWxpemF0aW9uVGV4dCkge1xuICAgICAgICBjb25zdCB1dGlsRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIHV0aWxFbGVtZW50LnRleHRDb250ZW50ID0gdXRpbGl6YXRpb25UZXh0XG4gICAgICAgIHV0aWxFbGVtZW50LnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICAgIGNvbG9yOiAjMDAwMDAwO1xuICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjI7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDkwMDtcbiAgICAgICAgYFxuICAgICAgICB0ZXh0Q29udGFpbmVyLmFwcGVuZENoaWxkKHV0aWxFbGVtZW50KVxuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgcGFya2luZyBsb3QgbmFtZSAoc2Vjb25kLCBzbyBpdCBhcHBlYXJzIGJlbG93IC0gYmxhY2ssIGJvbGQsIHNsaWdodGx5IGxhcmdlcilcbiAgICAgIGNvbnN0IG5hbWVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgIG5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gcGFya2luZ0xvdE5hbWVcbiAgICAgIG5hbWVFbGVtZW50LnN0eWxlLmNzc1RleHQgPSBgXG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgICAgICAgY29sb3I6ICMwMDAwMDA7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjI7XG4gICAgICBgXG4gICAgICB0ZXh0Q29udGFpbmVyLmFwcGVuZENoaWxkKG5hbWVFbGVtZW50KVxuXG4gICAgICBsYWJlbEVsZW1lbnQuYXBwZW5kQ2hpbGQoZ2F1Z2VFbGVtZW50KVxuICAgICAgbGFiZWxFbGVtZW50LmFwcGVuZENoaWxkKHRleHRDb250YWluZXIpXG4gICAgICBcbiAgICAgIC8vIEFkZCB0YWlsIGVsZW1lbnRzXG4gICAgICBsYWJlbEVsZW1lbnQuYXBwZW5kQ2hpbGQodGFpbEJvcmRlckVsZW1lbnQpXG4gICAgICBsYWJlbEVsZW1lbnQuYXBwZW5kQ2hpbGQodGFpbEVsZW1lbnQpXG5cbiAgICAgIC8vIFZlcmlmeSBjb250ZW50IHdhcyBhZGRlZFxuICAgICAgY29uc3QgY2hpbGRDb3VudCA9IGxhYmVsRWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aFxuICAgICAgZGVidWdMb2coJ0xhYmVsIGNvbnRlbnQgYWRkZWQ6Jywge1xuICAgICAgICBwYXJraW5nTG90TmFtZSxcbiAgICAgICAgaXNOZXdMYWJlbCxcbiAgICAgICAgY2hpbGRDb3VudCxcbiAgICAgICAgaGFzR2F1Z2U6ICEhZ2F1Z2VFbGVtZW50LFxuICAgICAgICBoYXNUZXh0OiAhIXRleHRDb250YWluZXIsXG4gICAgICAgIHV0aWxpemF0aW9uVGV4dFxuICAgICAgfSlcblxuICAgICAgLy8gQWRkIHRvIG1hcCBjb250YWluZXIgaWYgbmV3XG4gICAgICBpZiAoaXNOZXdMYWJlbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG1hcENvbnRhaW5lci5hcHBlbmRDaGlsZChsYWJlbEVsZW1lbnQpXG4gICAgICAgICAgZGVidWdMb2coJ0xhYmVsIGFkZGVkIHRvIERPTTonLCBwYXJraW5nTG90TmFtZSlcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgZGVidWdMb2coJ0Vycm9yIGFkZGluZyBsYWJlbCB0byBET00nLCBlcnIsIHBhcmtpbmdMb3ROYW1lKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlYnVnTG9nKCdMYWJlbCB1cGRhdGVkIGluIHBsYWNlOicsIHBhcmtpbmdMb3ROYW1lLCB7XG4gICAgICAgICAgZmluYWxDaGlsZENvdW50OiBsYWJlbEVsZW1lbnQuY2hpbGROb2Rlcy5sZW5ndGgsXG4gICAgICAgICAgdGV4dENvbnRlbnQ6IHRleHRDb250YWluZXIudGV4dENvbnRlbnRcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gU3RvcmUgbGFiZWwgaW5mb1xuICAgICAgbmV3TGFiZWxzLnB1c2goe1xuICAgICAgICBlbGVtZW50OiBsYWJlbEVsZW1lbnQsXG4gICAgICAgIGdlb21ldHJ5OiBnZW9tZXRyeSxcbiAgICAgICAgZGF0YTogZGF0YVxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgbGFiZWxzIHRoYXQgbm8gbG9uZ2VyIGhhdmUgY29ycmVzcG9uZGluZyByZWNvcmRzXG4gICAgZXhpc3RpbmdMYWJlbHNNYXAuZm9yRWFjaCgobGFiZWxFbCwgbG90SWQpID0+IHtcbiAgICAgIGlmICghcHJvY2Vzc2VkTG90SWRzLmhhcyhsb3RJZCkpIHtcbiAgICAgICAgZGVidWdMb2coJ1JlbW92aW5nIGxhYmVsIGZvciBwYXJraW5nIGxvdCB0aGF0IG5vIGxvbmdlciBleGlzdHM6JywgbG90SWQpXG4gICAgICAgIGlmIChsYWJlbEVsLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBsYWJlbEVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobGFiZWxFbClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb25zdCBmaW5hbExhYmVsQ291bnQgPSBtYXBDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnBhcmtpbmctbG90LW1hcC1sYWJlbCcpLmxlbmd0aFxuICAgIGRlYnVnTG9nKCdGaW5pc2hlZCB1cGRhdGluZyBsYWJlbHM6Jywge1xuICAgICAgdG90YWxQcm9jZXNzZWQ6IG5ld0xhYmVscy5sZW5ndGgsXG4gICAgICBuZXdMYWJlbHM6IG5ld0xhYmVscy5maWx0ZXIobCA9PiAhZXhpc3RpbmdMYWJlbHNNYXAuaGFzKGwuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFya2luZy1sb3QtaWQnKSB8fCAnJykpLmxlbmd0aCxcbiAgICAgIHVwZGF0ZWRMYWJlbHM6IG5ld0xhYmVscy5maWx0ZXIobCA9PiBleGlzdGluZ0xhYmVsc01hcC5oYXMobC5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXJraW5nLWxvdC1pZCcpIHx8ICcnKSkubGVuZ3RoLFxuICAgICAgc2tpcHBlZDogc2tpcHBlZENvdW50LFxuICAgICAgc2tpcHBlZFJlYXNvbnMsXG4gICAgICBtYXBDb250YWluZXJFeGlzdHM6ICEhbWFwQ29udGFpbmVyLFxuICAgICAgbGFiZWxzSW5ET006IGZpbmFsTGFiZWxDb3VudCxcbiAgICAgIG1hcENvbnRhaW5lclR5cGU6IG1hcENvbnRhaW5lciA/IChtYXBDb250YWluZXIgYXMgSFRNTEVsZW1lbnQpLnRhZ05hbWUgOiAnbnVsbCcsXG4gICAgICByZWNvcmRDb3VudDogcmVjb3Jkcy5sZW5ndGhcbiAgICB9KVxuXG4gICAgbGFiZWxzUmVmLmN1cnJlbnQgPSBuZXdMYWJlbHNcbiAgICBzZXRQYXJraW5nTG90TGFiZWxzKG5ld0xhYmVscylcbiAgfVxuXG4gIC8vIFVwZGF0ZSBleGlzdGluZyBsYWJlbHMgaW4gcGxhY2Ugd2l0aG91dCByZWNyZWF0aW5nIHRoZW1cbiAgY29uc3QgdXBkYXRlRXhpc3RpbmdMYWJlbHMgPSBhc3luYyAocmVjb3JkczogX19lc3JpLkdyYXBoaWNbXSkgPT4ge1xuICAgIGRlYnVnTG9nKCd1cGRhdGVFeGlzdGluZ0xhYmVscyBjYWxsZWQnLCB7XG4gICAgICBoYXNNYXBDb250YWluZXI6ICEhbWFwQ29udGFpbmVyLFxuICAgICAgaGFzSmltdU1hcFZpZXc6ICEhamltdU1hcFZpZXcsXG4gICAgICByZWNvcmRDb3VudDogcmVjb3Jkcz8ubGVuZ3RoIHx8IDBcbiAgICB9KVxuICAgIFxuICAgIGlmICghbWFwQ29udGFpbmVyIHx8ICFqaW11TWFwVmlldykge1xuICAgICAgZGVidWdMb2coJ0Nhbm5vdCB1cGRhdGUgbGFiZWxzIC0gbWlzc2luZyBtYXBDb250YWluZXIgb3IgamltdU1hcFZpZXcnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gQnVpbGQgbWFwIG9mIGV4aXN0aW5nIGxhYmVscyBieSBwYXJraW5nIGxvdCBJRFxuICAgIGNvbnN0IGV4aXN0aW5nTGFiZWxzID0gbWFwQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYXJraW5nLWxvdC1tYXAtbGFiZWwnKVxuICAgIGNvbnN0IGV4aXN0aW5nTGFiZWxzTWFwID0gbmV3IE1hcDxzdHJpbmcsIEhUTUxFbGVtZW50PigpXG4gICAgY29uc3QgcHJvY2Vzc2VkTG90SWRzID0gbmV3IFNldDxzdHJpbmc+KClcbiAgICBcbiAgICBleGlzdGluZ0xhYmVscy5mb3JFYWNoKChlbDogRWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgbG90SWQgPSAoZWwgYXMgSFRNTEVsZW1lbnQpLmdldEF0dHJpYnV0ZSgnZGF0YS1wYXJraW5nLWxvdC1pZCcpXG4gICAgICBpZiAobG90SWQpIHtcbiAgICAgICAgZXhpc3RpbmdMYWJlbHNNYXAuc2V0KGxvdElkLCBlbCBhcyBIVE1MRWxlbWVudClcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIGRlYnVnTG9nKCdVcGRhdGluZyBleGlzdGluZyBsYWJlbHM6Jywge1xuICAgICAgZXhpc3RpbmdMYWJlbHNDb3VudDogZXhpc3RpbmdMYWJlbHNNYXAuc2l6ZSxcbiAgICAgIHJlY29yZHNDb3VudDogcmVjb3Jkcy5sZW5ndGhcbiAgICB9KVxuXG4gICAgLy8gUHJvY2VzcyBlYWNoIHJlY29yZCBhbmQgdXBkYXRlIGNvcnJlc3BvbmRpbmcgbGFiZWxcbiAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiByZWNvcmRzKSB7XG4gICAgICAvLyBIYW5kbGUgYm90aCBHcmFwaGljcyBhbmQgRGF0YVJlY29yZHNcbiAgICAgIGxldCBkYXRhOiBQYXJraW5nTG90RGF0YVxuICAgICAgbGV0IGdlb21ldHJ5OiBfX2VzcmkuUG9pbnQgfCBudWxsID0gbnVsbFxuICAgICAgXG4gICAgICBpZiAodHlwZW9mIChyZWNvcmQgYXMgYW55KS5nZXREYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRhdGEgPSAocmVjb3JkIGFzIGFueSkuZ2V0RGF0YSgpIGFzIFBhcmtpbmdMb3REYXRhXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiAocmVjb3JkIGFzIGFueSkuZ2V0SlNBUElHZW9tZXRyeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSAocmVjb3JkIGFzIGFueSkuZ2V0SlNBUElHZW9tZXRyeSgpIGFzIF9fZXNyaS5Qb2ludFxuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIChyZWNvcmQgYXMgYW55KS5nZXRHZW9tZXRyeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgaUdlb21ldHJ5ID0gKHJlY29yZCBhcyBhbnkpLmdldEdlb21ldHJ5KClcbiAgICAgICAgICAgIGlmIChpR2VvbWV0cnkpIHtcbiAgICAgICAgICAgICAgZ2VvbWV0cnkgPSBpR2VvbWV0cnkgYXMgYW55IGFzIF9fZXNyaS5Qb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKChyZWNvcmQgYXMgYW55KS5hdHRyaWJ1dGVzICYmIChyZWNvcmQgYXMgYW55KS5nZW9tZXRyeSkge1xuICAgICAgICBkYXRhID0gKHJlY29yZCBhcyBfX2VzcmkuR3JhcGhpYykuYXR0cmlidXRlcyBhcyBQYXJraW5nTG90RGF0YVxuICAgICAgICBnZW9tZXRyeSA9IChyZWNvcmQgYXMgX19lc3JpLkdyYXBoaWMpLmdlb21ldHJ5IGFzIF9fZXNyaS5Qb2ludFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YSA9IChyZWNvcmQgYXMgYW55KS5kYXRhIHx8IChyZWNvcmQgYXMgYW55KS5hdHRyaWJ1dGVzIHx8IChyZWNvcmQgYXMgYW55KSBhcyBQYXJraW5nTG90RGF0YVxuICAgICAgICBnZW9tZXRyeSA9IChyZWNvcmQgYXMgYW55KS5nZW9tZXRyeSB8fCAocmVjb3JkIGFzIGFueSkuZ2VvbSB8fCBudWxsXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHBhcmtpbmdMb3ROYW1lID0gZGF0YT8uW2NvbmZpZy5wYXJraW5nTG90RmllbGRdXG4gICAgICBjb25zdCB1dGlsaXphdGlvblBlcmNlbnRhZ2UgPSBkYXRhPy5bY29uZmlnLnV0aWxpemF0aW9uRmllbGRdXG5cbiAgICAgIGlmICghZ2VvbWV0cnkgfHwgIXBhcmtpbmdMb3ROYW1lKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGxvdElkID0gU3RyaW5nKHBhcmtpbmdMb3ROYW1lKVxuICAgICAgcHJvY2Vzc2VkTG90SWRzLmFkZChsb3RJZClcblxuICAgICAgLy8gRmluZCBleGlzdGluZyBsYWJlbFxuICAgICAgY29uc3QgbGFiZWxFbGVtZW50ID0gZXhpc3RpbmdMYWJlbHNNYXAuZ2V0KGxvdElkKVxuICAgICAgaWYgKCFsYWJlbEVsZW1lbnQpIHtcbiAgICAgICAgLy8gTGFiZWwgZG9lc24ndCBleGlzdCAtIHNraXAgKGRvbid0IGNyZWF0ZSBuZXcgb25lcyBoZXJlKVxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyBDYWxjdWxhdGUgdmFsdWVzXG4gICAgICBjb25zdCB1dGlsaXphdGlvblJhdyA9IE51bWJlcih1dGlsaXphdGlvblBlcmNlbnRhZ2UpXG4gICAgICBjb25zdCB1dGlsaXphdGlvblZhbHVlID0gTnVtYmVyLmlzRmluaXRlKHV0aWxpemF0aW9uUmF3KSA/IHV0aWxpemF0aW9uUmF3IDogMFxuICAgICAgY29uc3QgYXZhaWxhYmxlQ29sb3IgPSBjb25maWcuYXZhaWxhYmxlQ29sb3IgfHwgJyNFNjgzREQnXG4gICAgICBjb25zdCB1bmF2YWlsYWJsZUNvbG9yID0gY29uZmlnLnVuYXZhaWxhYmxlQ29sb3IgfHwgJyM4QjhCOEInXG4gICAgICBjb25zdCBhdmFpbGFiaWxpdHlBbm5vdW5jZW1lbnQgPSBnZXRVdGlsaXphdGlvblRleHQodXRpbGl6YXRpb25WYWx1ZSlcbiAgICAgIGNvbnN0IHV0aWxpemF0aW9uVGV4dCA9IGNvbmZpZy5zaG93VXRpbGl6YXRpb25UZXh0ID8gYXZhaWxhYmlsaXR5QW5ub3VuY2VtZW50IDogJydcbiAgICAgIGxldCBhdmFpbGFiaWxpdHkgPSAxMDAgLSB1dGlsaXphdGlvblZhbHVlXG4gICAgICBpZiAoIWNvbmZpZy5hbGxvd05lZ2F0aXZlcyAmJiBhdmFpbGFiaWxpdHkgPCAwKSB7XG4gICAgICAgIGF2YWlsYWJpbGl0eSA9IDBcbiAgICAgIH1cbiAgICAgIGNvbnN0IGF2YWlsYWJpbGl0eVBlcmNlbnRhZ2UgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIGF2YWlsYWJpbGl0eSkpXG5cbiAgICAgIC8vIFVwZGF0ZSBwb3NpdGlvbiAob25seSBpZiBjaGFuZ2VkKVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2NyZWVuUG9pbnQgPSBqaW11TWFwVmlldy52aWV3LnRvU2NyZWVuKGdlb21ldHJ5KVxuICAgICAgICBjb25zdCBuZXdMZWZ0ID0gYCR7c2NyZWVuUG9pbnQueCAtIDUwfXB4YFxuICAgICAgICBjb25zdCBuZXdUb3AgPSBgJHtzY3JlZW5Qb2ludC55IC0gMzB9cHhgXG4gICAgICAgIGlmIChsYWJlbEVsZW1lbnQuc3R5bGUubGVmdCAhPT0gbmV3TGVmdCkge1xuICAgICAgICAgIGxhYmVsRWxlbWVudC5zdHlsZS5sZWZ0ID0gbmV3TGVmdFxuICAgICAgICB9XG4gICAgICAgIGlmIChsYWJlbEVsZW1lbnQuc3R5bGUudG9wICE9PSBuZXdUb3ApIHtcbiAgICAgICAgICBsYWJlbEVsZW1lbnQuc3R5bGUudG9wID0gbmV3VG9wXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFNraXAgcG9zaXRpb24gdXBkYXRlIGlmIGNvbnZlcnNpb24gZmFpbHNcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGFyaWEtbGFiZWxcbiAgICAgIGxhYmVsRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBgJHtwYXJraW5nTG90TmFtZX06ICR7YXZhaWxhYmlsaXR5QW5ub3VuY2VtZW50fWApXG5cbiAgICAgIC8vIEZpbmQgZXhpc3RpbmcgZWxlbWVudHMgLSBzdHJ1Y3R1cmU6IFtnYXVnZVdyYXBwZXIsIHRleHRDb250YWluZXIsIHRhaWxCb3JkZXIsIHRhaWxdXG4gICAgICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20obGFiZWxFbGVtZW50LmNoaWxkcmVuKVxuICAgICAgY29uc3QgZXhpc3RpbmdHYXVnZVdyYXBwZXIgPSBjaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZFxuICAgICAgY29uc3QgZXhpc3RpbmdUZXh0Q29udGFpbmVyID0gY2hpbGRyZW5bMV0gYXMgSFRNTEVsZW1lbnQgfCB1bmRlZmluZWRcblxuICAgICAgLy8gVXBkYXRlIGdhdWdlIFNWRyBpbiBwbGFjZVxuICAgICAgaWYgKGV4aXN0aW5nR2F1Z2VXcmFwcGVyKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nU3ZnID0gZXhpc3RpbmdHYXVnZVdyYXBwZXIucXVlcnlTZWxlY3Rvcignc3ZnJylcbiAgICAgICAgaWYgKGV4aXN0aW5nU3ZnKSB7XG4gICAgICAgICAgY29uc3QgY2xhbXBlZEF2YWlsYWJpbGl0eSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgYXZhaWxhYmlsaXR5UGVyY2VudGFnZSkpXG4gICAgICAgICAgY29uc3QgZmlsbFBlcmNlbnRhZ2UgPSBjbGFtcGVkQXZhaWxhYmlsaXR5IC8vIFNob3cgYXZhaWxhYmlsaXR5IGNsb2Nrd2lzZVxuICAgICAgICAgIGNvbnN0IHN3ZWVwQW5nbGUgPSBNYXRoLm1pbigoZmlsbFBlcmNlbnRhZ2UgLyAxMDApICogMzYwLCAzNTkuOTk5KVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFVwZGF0ZSBiYXNlIGZpbGwgY29sb3IgKGZpcnN0IGNoaWxkKVxuICAgICAgICAgIGNvbnN0IHN2Z0NoaWxkcmVuID0gQXJyYXkuZnJvbShleGlzdGluZ1N2Zy5jaGlsZHJlbilcbiAgICAgICAgICBjb25zdCBiYXNlRmlsbCA9IHN2Z0NoaWxkcmVuWzBdIGFzIFNWR0VsZW1lbnRcbiAgICAgICAgICBpZiAoYmFzZUZpbGwgJiYgYmFzZUZpbGwudGFnTmFtZSA9PT0gJ2NpcmNsZScpIHtcbiAgICAgICAgICAgIGJhc2VGaWxsLnNldEF0dHJpYnV0ZSgnZmlsbCcsIHVuYXZhaWxhYmxlQ29sb3IpXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlbW92ZSBzZWN0b3IgcGF0aHMgKGtlZXAgYmFzZSBmaWxsIGFuZCBvdXRsaW5lKVxuICAgICAgICAgIC8vIEJhc2UgZmlsbCBpcyBmaXJzdCwgYmFzZSBvdXRsaW5lIGlzIGxhc3QgLSByZW1vdmUgZXZlcnl0aGluZyBpbiBiZXR3ZWVuXG4gICAgICAgICAgZm9yIChsZXQgaSA9IHN2Z0NoaWxkcmVuLmxlbmd0aCAtIDI7IGkgPj0gMTsgaS0tKSB7XG4gICAgICAgICAgICBleGlzdGluZ1N2Zy5yZW1vdmVDaGlsZChzdmdDaGlsZHJlbltpXSlcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIG5ldyBzZWN0b3IgYmFzZWQgb24gZmlsbCBwZXJjZW50YWdlXG4gICAgICAgICAgaWYgKGZpbGxQZXJjZW50YWdlID4gMCkge1xuICAgICAgICAgICAgaWYgKGZpbGxQZXJjZW50YWdlID49IDk5LjUpIHtcbiAgICAgICAgICAgICAgLy8gRnVsbCBjaXJjbGVcbiAgICAgICAgICAgICAgY29uc3QgZnVsbENpcmNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTlMsICdjaXJjbGUnKVxuICAgICAgICAgICAgICBmdWxsQ2lyY2xlLnNldEF0dHJpYnV0ZSgnY3gnLCBHQVVHRV9DRU5URVIudG9GaXhlZCgyKSlcbiAgICAgICAgICAgICAgZnVsbENpcmNsZS5zZXRBdHRyaWJ1dGUoJ2N5JywgR0FVR0VfQ0VOVEVSLnRvRml4ZWQoMikpXG4gICAgICAgICAgICAgIGZ1bGxDaXJjbGUuc2V0QXR0cmlidXRlKCdyJywgKEdBVUdFX1JBRElVUyAtIDMpLnRvRml4ZWQoMikpXG4gICAgICAgICAgICAgIGZ1bGxDaXJjbGUuc2V0QXR0cmlidXRlKCdmaWxsJywgYXZhaWxhYmxlQ29sb3IpXG4gICAgICAgICAgICAgIGZ1bGxDaXJjbGUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnbm9uZScpXG4gICAgICAgICAgICAgIGV4aXN0aW5nU3ZnLmluc2VydEJlZm9yZShmdWxsQ2lyY2xlLCBleGlzdGluZ1N2Zy5sYXN0Q2hpbGQpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBTZWN0b3IgcGF0aFxuICAgICAgICAgICAgICBjb25zdCBzZWN0b3JQYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgJ3BhdGgnKVxuICAgICAgICAgICAgICBzZWN0b3JQYXRoLnNldEF0dHJpYnV0ZSgnZCcsIGRlc2NyaWJlU2VjdG9yKEdBVUdFX0NFTlRFUiwgR0FVR0VfQ0VOVEVSLCBHQVVHRV9SQURJVVMgLSAzLCAtOTAsIHN3ZWVwQW5nbGUpKVxuICAgICAgICAgICAgICBzZWN0b3JQYXRoLnNldEF0dHJpYnV0ZSgnZmlsbCcsIGF2YWlsYWJsZUNvbG9yKVxuICAgICAgICAgICAgICBzZWN0b3JQYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ25vbmUnKVxuICAgICAgICAgICAgICBleGlzdGluZ1N2Zy5pbnNlcnRCZWZvcmUoc2VjdG9yUGF0aCwgZXhpc3RpbmdTdmcubGFzdENoaWxkKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gU2VjdG9yIG91dGxpbmVcbiAgICAgICAgICAgICAgY29uc3Qgc2VjdG9yT3V0bGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTlMsICdwYXRoJylcbiAgICAgICAgICAgICAgc2VjdG9yT3V0bGluZS5zZXRBdHRyaWJ1dGUoJ2QnLCBkZXNjcmliZUFyYyhHQVVHRV9DRU5URVIsIEdBVUdFX0NFTlRFUiwgR0FVR0VfUkFESVVTIC0gMywgLTkwLCBzd2VlcEFuZ2xlKSlcbiAgICAgICAgICAgICAgc2VjdG9yT3V0bGluZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnbm9uZScpXG4gICAgICAgICAgICAgIHNlY3Rvck91dGxpbmUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCBhdmFpbGFibGVDb2xvcilcbiAgICAgICAgICAgICAgc2VjdG9yT3V0bGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczLjUnKVxuICAgICAgICAgICAgICBleGlzdGluZ1N2Zy5pbnNlcnRCZWZvcmUoc2VjdG9yT3V0bGluZSwgZXhpc3RpbmdTdmcubGFzdENoaWxkKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgdGV4dCBjb250YWluZXIgLSBqdXN0IHVwZGF0ZSB0ZXh0IGNvbnRlbnRcbiAgICAgIGlmIChleGlzdGluZ1RleHRDb250YWluZXIpIHtcbiAgICAgICAgY29uc3QgdGV4dENoaWxkcmVuID0gQXJyYXkuZnJvbShleGlzdGluZ1RleHRDb250YWluZXIuY2hpbGRyZW4pXG4gICAgICAgIGxldCB1dGlsRWxlbWVudEluZGV4ID0gY29uZmlnLnNob3dVdGlsaXphdGlvblRleHQgPyAwIDogLTFcbiAgICAgICAgbGV0IG5hbWVFbGVtZW50SW5kZXggPSBjb25maWcuc2hvd1V0aWxpemF0aW9uVGV4dCA/IDEgOiAwXG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgdXRpbGl6YXRpb24gdGV4dFxuICAgICAgICBpZiAoY29uZmlnLnNob3dVdGlsaXphdGlvblRleHQgJiYgdXRpbEVsZW1lbnRJbmRleCA+PSAwICYmIHRleHRDaGlsZHJlblt1dGlsRWxlbWVudEluZGV4XSkge1xuICAgICAgICAgIGNvbnN0IHV0aWxFbGVtZW50ID0gdGV4dENoaWxkcmVuW3V0aWxFbGVtZW50SW5kZXhdIGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgaWYgKHV0aWxFbGVtZW50LnRleHRDb250ZW50ICE9PSB1dGlsaXphdGlvblRleHQpIHtcbiAgICAgICAgICAgIHV0aWxFbGVtZW50LnRleHRDb250ZW50ID0gdXRpbGl6YXRpb25UZXh0XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBOYW1lIHNob3VsZG4ndCBjaGFuZ2UsIGJ1dCB2ZXJpZnlcbiAgICAgICAgaWYgKHRleHRDaGlsZHJlbltuYW1lRWxlbWVudEluZGV4XSkge1xuICAgICAgICAgIGNvbnN0IG5hbWVFbGVtZW50ID0gdGV4dENoaWxkcmVuW25hbWVFbGVtZW50SW5kZXhdIGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgaWYgKG5hbWVFbGVtZW50LnRleHRDb250ZW50ICE9PSBwYXJraW5nTG90TmFtZSkge1xuICAgICAgICAgICAgbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBwYXJraW5nTG90TmFtZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBsYWJlbHMgdGhhdCBubyBsb25nZXIgaGF2ZSBjb3JyZXNwb25kaW5nIHJlY29yZHNcbiAgICBleGlzdGluZ0xhYmVsc01hcC5mb3JFYWNoKChsYWJlbEVsLCBsb3RJZCkgPT4ge1xuICAgICAgaWYgKCFwcm9jZXNzZWRMb3RJZHMuaGFzKGxvdElkKSkge1xuICAgICAgICBkZWJ1Z0xvZygnUmVtb3ZpbmcgbGFiZWwgZm9yIHBhcmtpbmcgbG90IHRoYXQgbm8gbG9uZ2VyIGV4aXN0czonLCBsb3RJZClcbiAgICAgICAgaWYgKGxhYmVsRWwucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGxhYmVsRWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsYWJlbEVsKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIGRlYnVnTG9nKCdGaW5pc2hlZCB1cGRhdGluZyBleGlzdGluZyBsYWJlbHM6Jywge1xuICAgICAgcHJvY2Vzc2VkOiBwcm9jZXNzZWRMb3RJZHMuc2l6ZSxcbiAgICAgIHJlbW92ZWQ6IGV4aXN0aW5nTGFiZWxzTWFwLnNpemUgLSBwcm9jZXNzZWRMb3RJZHMuc2l6ZVxuICAgIH0pXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFya2luZy1sb3Qtd2lkZ2V0IGppbXUtd2lkZ2V0XCIgZGF0YS13aWRnZXQtaWQ9e2lkfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICcxMDAlJywgb3ZlcmZsb3c6ICdoaWRkZW4nLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cbiAgICAgIHsvKiBIaWRkZW4gbWFwIHZpZXcgY29tcG9uZW50ICovfVxuICAgICAge3VzZU1hcFdpZGdldElkcyAmJiB1c2VNYXBXaWRnZXRJZHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgIDxKaW11TWFwVmlld0NvbXBvbmVudFxuICAgICAgICAgIHVzZU1hcFdpZGdldElkPXt1c2VNYXBXaWRnZXRJZHNbMF19XG4gICAgICAgICAgb25BY3RpdmVWaWV3Q2hhbmdlPXtvbkFjdGl2ZVZpZXdDaGFuZ2V9XG4gICAgICAgIC8+XG4gICAgICApfVxuXG4gICAgICB7LyogRGF0YSBzb3VyY2UgY29tcG9uZW50IHRvIGxvYWQgYW5kIHVwZGF0ZSBsYWJlbHMgKi99XG4gICAgICB7dXNlRGF0YVNvdXJjZXMgJiYgdXNlRGF0YVNvdXJjZXMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgPERhdGFTb3VyY2VDb21wb25lbnQgXG4gICAgICAgICAgdXNlRGF0YVNvdXJjZT17dXNlRGF0YVNvdXJjZXNbMF19IFxuICAgICAgICAgIHdpZGdldElkPXtpZH1cbiAgICAgICAgICBxdWVyeT17ZGF0YVNvdXJjZVF1ZXJ5fVxuICAgICAgICAgIG9uRGF0YVNvdXJjZUluZm9DaGFuZ2U9eyhpbmZvLCBwcmVJbmZvKSA9PiB7XG4gICAgICAgICAgICBkZWJ1Z0xvZygnb25EYXRhU291cmNlSW5mb0NoYW5nZScsIHtcbiAgICAgICAgICAgICAgc291cmNlVmVyc2lvbjogaW5mbz8uc291cmNlVmVyc2lvbixcbiAgICAgICAgICAgICAgc3RhdHVzOiBpbmZvPy5zdGF0dXMsXG4gICAgICAgICAgICAgIHByZVN0YXR1czogcHJlSW5mbz8uc3RhdHVzLFxuICAgICAgICAgICAgICBwcmVTb3VyY2VWZXJzaW9uOiBwcmVJbmZvPy5zb3VyY2VWZXJzaW9uLFxuICAgICAgICAgICAgICBsYXN0SGFuZGxlZDogbGFzdEhhbmRsZWRTb3VyY2VWZXJzaW9uUmVmLmN1cnJlbnRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAvLyBPbmx5IHJlYWN0IHRvIEV4QiBkYXRhIGxpZmVjeWNsZTogc291cmNlVmVyc2lvbiBjaGFuZ2Ugb3Igc3RhdHVzIExPQURFRCAoRXhCIGNhbGxiYWNrLCBubyBzY2hlZHVsaW5nKVxuICAgICAgICAgICAgaWYgKCFpbmZvKSByZXR1cm5cbiAgICAgICAgICAgIGlmIChpbmZvLnNvdXJjZVZlcnNpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBjb25zdCBzb3VyY2VWZXJzaW9uQ2hhbmdlZCA9IHByZUluZm8gJiYgaW5mby5zb3VyY2VWZXJzaW9uICE9PSBwcmVJbmZvLnNvdXJjZVZlcnNpb25cbiAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbk5vdEhhbmRsZWRZZXQgPSBsYXN0SGFuZGxlZFNvdXJjZVZlcnNpb25SZWYuY3VycmVudCAhPT0gaW5mby5zb3VyY2VWZXJzaW9uXG4gICAgICAgICAgICAgIGlmICgoc291cmNlVmVyc2lvbkNoYW5nZWQgfHwgbGFzdEhhbmRsZWRTb3VyY2VWZXJzaW9uUmVmLmN1cnJlbnQgPT09IG51bGwpICYmIHZlcnNpb25Ob3RIYW5kbGVkWWV0KSB7XG4gICAgICAgICAgICAgICAgbGFzdEhhbmRsZWRTb3VyY2VWZXJzaW9uUmVmLmN1cnJlbnQgPSBpbmZvLnNvdXJjZVZlcnNpb25cbiAgICAgICAgICAgICAgICByZXF1ZXN0U2FmZUxhYmVsUmVmcmVzaCh7IHJlYXNvbjogJ3NvdXJjZS12ZXJzaW9uLWNoYW5nZWQnIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBFeEIgbWF5IG5vdCBzZW5kIHNvdXJjZVZlcnNpb247IHJlYWN0IHRvIGxpZmVjeWNsZSB0cmFuc2l0aW9ucyBvbmx5LlxuICAgICAgICAgICAgY29uc3Qgc3RhdHVzQmVjYW1lTG9hZGVkID0gcHJlSW5mbz8uc3RhdHVzICE9PSAnTE9BREVEJyAmJiBpbmZvLnN0YXR1cyA9PT0gJ0xPQURFRCdcbiAgICAgICAgICAgIGNvbnN0IGJlY2FtZU5lZWRSZWZyZXNoID0gIXByZUluZm8/Lm5lZWRSZWZyZXNoICYmICEhaW5mby5uZWVkUmVmcmVzaFxuICAgICAgICAgICAgaWYgKHN0YXR1c0JlY2FtZUxvYWRlZCB8fCBiZWNhbWVOZWVkUmVmcmVzaCkge1xuICAgICAgICAgICAgICByZXF1ZXN0U2FmZUxhYmVsUmVmcmVzaCh7IHJlYXNvbjogc3RhdHVzQmVjYW1lTG9hZGVkID8gJ2RhdGEtc291cmNlLWxvYWRlZC10cmFuc2l0aW9uJyA6ICdkYXRhLXNvdXJjZS1uZWVkUmVmcmVzaC10cmFuc2l0aW9uJyB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7KGRzOiBEYXRhU291cmNlKSA9PiB7XG4gICAgICAgICAgICBkZWJ1Z0xvZygnRGF0YVNvdXJjZUNvbXBvbmVudCByZW5kZXIgZnVuY3Rpb24gY2FsbGVkJywge1xuICAgICAgICAgICAgICBoYXNEYXRhU291cmNlOiAhIWRzLFxuICAgICAgICAgICAgICBzdGF0dXM6IGRzPy5nZXRTdGF0dXM/LigpLFxuICAgICAgICAgICAgICBkYXRhU291cmNlSWQ6IHVzZURhdGFTb3VyY2VzPy5bMF0/LmRhdGFTb3VyY2VJZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFkcykge1xuICAgICAgICAgICAgICAvLyBEb24ndCBjbGVhciB0aGUgcmVmIOKAkyBwYXJlbnQgbWF5IHJlLXJlbmRlciBiZWZvcmUgd2UgZ2V0IGRzIGFnYWluOyByZWZyZXNoIGVmZmVjdCBuZWVkcyB0aGUgcmVmIHRvIGJlIHNldFxuICAgICAgICAgICAgICBkZWJ1Z0xvZygnTm8gRGF0YVNvdXJjZSBhdmFpbGFibGUgKHJlZiBrZXB0KScpXG4gICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFN0b3JlIHJlZmVyZW5jZSB0byBEYXRhU291cmNlIGZvciB3YXRjaGluZ1xuICAgICAgICAgICAgZGF0YVNvdXJjZVJlZi5jdXJyZW50ID0gZHNcbiAgICAgICAgICAgIGNvbnN0IGRzU3RhdHVzID0gZHMuZ2V0U3RhdHVzPy4oKVxuICAgICAgICAgICAgY29uc3QgZHNJZCA9IHVzZURhdGFTb3VyY2VzPy5bMF0/LmRhdGFTb3VyY2VJZFxuICAgICAgICAgICAgZGVidWdMb2coJ0RhdGFzb3VyY2Ugc3RhdHVzIGZyb20gcmVuZGVyIGNhbGxiYWNrJywgeyBkc0lkLCBkc1N0YXR1cyB9KVxuICAgICAgICAgICAgZGVidWdMb2coJ0RhdGFTb3VyY2Ugc3RvcmVkIGluIHJlZicsIHtcbiAgICAgICAgICAgICAgaWQ6IGRzLmlkLFxuICAgICAgICAgICAgICB0eXBlOiBkcy50eXBlLFxuICAgICAgICAgICAgICBzdGF0dXM6IGRzLmdldFN0YXR1cygpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICB9fVxuICAgICAgICA8L0RhdGFTb3VyY2VDb21wb25lbnQ+XG4gICAgICApIDogbnVsbH1cblxuICAgICAgey8qIFN0YXR1cyBtZXNzYWdlcyAqL31cbiAgICAgIHshdXNlTWFwV2lkZ2V0SWRzIHx8IHVzZU1hcFdpZGdldElkcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibm8tZGF0YVwiPlxuICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlIGlkPVwic2VsZWN0TWFwXCIgZGVmYXVsdE1lc3NhZ2U9XCJQbGVhc2Ugc2VsZWN0IGEgbWFwIHdpZGdldCBpbiB0aGUgc2V0dGluZ3NcIi8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6ICF1c2VEYXRhU291cmNlcyB8fCB1c2VEYXRhU291cmNlcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibm8tZGF0YVwiPlxuICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlIGlkPVwiY29uZmlndXJlRGF0YVNvdXJjZVwiIGRlZmF1bHRNZXNzYWdlPXtkZWZhdWx0STE4bk1lc3NhZ2VzLmNvbmZpZ3VyZURhdGFTb3VyY2V9Lz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApIDogbnVsbH1cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBXaWRnZXRcblxuIGV4cG9ydCBmdW5jdGlvbiBfX3NldF93ZWJwYWNrX3B1YmxpY19wYXRoX18odXJsKSB7IF9fd2VicGFja19wdWJsaWNfcGF0aF9fID0gdXJsIH0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=